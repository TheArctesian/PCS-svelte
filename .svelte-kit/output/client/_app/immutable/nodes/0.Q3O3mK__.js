import"../chunks/entry.3Sqj26k1.js";import{g as Gi,c as Ki}from"../chunks/_commonjsHelpers.4gQjN7DL.js";import{_ as vt}from"../chunks/preload-helper.0HuHagjb.js";import{ad as Wi,ac as Jt,Y as Xi,ag as nr,s as et,v as ne,e as J,b as Q,c as V,a as q,f as Z,d as x,g as k,i as H,h as X,w as se,x as oe,y as ae,T as si,D as Se,E as Ee,N as sr,af as te,ah as ke,t as oi,p as ai,B as ze,u as Lt,L as Yi,ab as Qi,W as or,r as Vt,O as ar,H as li,G as lr,ai as ci,J as ui,I as cr,n as Je,o as Zi,aj as $i,j as qt}from"../chunks/scheduler.tEDShyuN.js";import{S as tt,i as rt,t as j,g as fe,b as U,e as me,f as ur,h as hr,c as Fe,a as Be,m as Ne,d as Me}from"../chunks/index.psZnmFP1.js";import{w as yt}from"../chunks/index.OC50EZS9.js";import{p as en,s as tn,m as dr,a as fr,g as rn,b as nn,c as sn}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.02rtqQWX.js";import{I as mr}from"../chunks/Icon.j5Kcc903.js";function on(i,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in i)){const n=Object.getOwnPropertyDescriptor(r,s);n&&Object.defineProperty(i,s,n.get?n:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}const an=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global,ln="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imdjd3ljb2pxb3FpZXhwYXl4YW54Iiwicm9sZSI6ImFub24iLCJpYXQiOjE2ODI2NDA4ODcsImV4cCI6MTk5ODIxNjg4N30.m8HpLBpRUlrlXvJINY3-bSnlS9aSvsMfIw3nybX_cFA",cn="https://gcwycojqoqiexpayxanx.supabase.co/";var un=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};const hn=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...t)=>un(void 0,void 0,void 0,function*(){return yield(yield vt(()=>Promise.resolve().then(()=>_t),void 0,import.meta.url)).fetch(...t)}):e=fetch,(...t)=>e(...t)};class Gt extends Error{constructor(e,t="FunctionsError",r){super(e),super.name=t,this.context=r}}class dn extends Gt{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class fn extends Gt{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class mn extends Gt{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var gn=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};class pn{constructor(e,{headers:t={},customFetch:r}={}){this.url=e,this.headers=t,this.fetch=hn(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return gn(this,void 0,void 0,function*(){try{const{headers:s,method:n,body:o}=t;let a={},l;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:l}).catch(f=>{throw new dn(f)}),u=c.headers.get("x-relay-error");if(u&&u==="true")throw new fn(c);if(!c.ok)throw new mn(c);let h=((r=c.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return h==="application/json"?m=yield c.json():h==="application/octet-stream"?m=yield c.blob():h==="multipart/form-data"?m=yield c.formData():m=yield c.text(),{data:m,error:null}}catch(s){return{data:null,error:s}}})}}var Ut={exports:{}};(function(i,e){var t=typeof self<"u"?self:Ki,r=function(){function n(){this.fetch=!1,this.DOMException=t.DOMException}return n.prototype=t,new n}();(function(n){(function(o){var a={searchParams:"URLSearchParams"in n,iterable:"Symbol"in n&&"iterator"in Symbol,blob:"FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in n,arrayBuffer:"ArrayBuffer"in n};function l(v){return v&&DataView.prototype.isPrototypeOf(v)}if(a.arrayBuffer)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(v){return v&&c.indexOf(Object.prototype.toString.call(v))>-1};function h(v){if(typeof v!="string"&&(v=String(v)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(v))throw new TypeError("Invalid character in header field name");return v.toLowerCase()}function m(v){return typeof v!="string"&&(v=String(v)),v}function f(v){var _={next:function(){var P=v.shift();return{done:P===void 0,value:P}}};return a.iterable&&(_[Symbol.iterator]=function(){return _}),_}function d(v){this.map={},v instanceof d?v.forEach(function(_,P){this.append(P,_)},this):Array.isArray(v)?v.forEach(function(_){this.append(_[0],_[1])},this):v&&Object.getOwnPropertyNames(v).forEach(function(_){this.append(_,v[_])},this)}d.prototype.append=function(v,_){v=h(v),_=m(_);var P=this.map[v];this.map[v]=P?P+", "+_:_},d.prototype.delete=function(v){delete this.map[h(v)]},d.prototype.get=function(v){return v=h(v),this.has(v)?this.map[v]:null},d.prototype.has=function(v){return this.map.hasOwnProperty(h(v))},d.prototype.set=function(v,_){this.map[h(v)]=m(_)},d.prototype.forEach=function(v,_){for(var P in this.map)this.map.hasOwnProperty(P)&&v.call(_,this.map[P],P,this)},d.prototype.keys=function(){var v=[];return this.forEach(function(_,P){v.push(P)}),f(v)},d.prototype.values=function(){var v=[];return this.forEach(function(_){v.push(_)}),f(v)},d.prototype.entries=function(){var v=[];return this.forEach(function(_,P){v.push([P,_])}),f(v)},a.iterable&&(d.prototype[Symbol.iterator]=d.prototype.entries);function g(v){if(v.bodyUsed)return Promise.reject(new TypeError("Already read"));v.bodyUsed=!0}function p(v){return new Promise(function(_,P){v.onload=function(){_(v.result)},v.onerror=function(){P(v.error)}})}function y(v){var _=new FileReader,P=p(_);return _.readAsArrayBuffer(v),P}function b(v){var _=new FileReader,P=p(_);return _.readAsText(v),P}function O(v){for(var _=new Uint8Array(v),P=new Array(_.length),B=0;B<_.length;B++)P[B]=String.fromCharCode(_[B]);return P.join("")}function T(v){if(v.slice)return v.slice(0);var _=new Uint8Array(v.byteLength);return _.set(new Uint8Array(v)),_.buffer}function E(){return this.bodyUsed=!1,this._initBody=function(v){this._bodyInit=v,v?typeof v=="string"?this._bodyText=v:a.blob&&Blob.prototype.isPrototypeOf(v)?this._bodyBlob=v:a.formData&&FormData.prototype.isPrototypeOf(v)?this._bodyFormData=v:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)?this._bodyText=v.toString():a.arrayBuffer&&a.blob&&l(v)?(this._bodyArrayBuffer=T(v.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(v)||u(v))?this._bodyArrayBuffer=T(v):this._bodyText=v=Object.prototype.toString.call(v):this._bodyText="",this.headers.get("content-type")||(typeof v=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(v)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var v=g(this);if(v)return v;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?g(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(y)}),this.text=function(){var v=g(this);if(v)return v;if(this._bodyBlob)return b(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(O(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}var C=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function D(v){var _=v.toUpperCase();return C.indexOf(_)>-1?_:v}function w(v,_){_=_||{};var P=_.body;if(v instanceof w){if(v.bodyUsed)throw new TypeError("Already read");this.url=v.url,this.credentials=v.credentials,_.headers||(this.headers=new d(v.headers)),this.method=v.method,this.mode=v.mode,this.signal=v.signal,!P&&v._bodyInit!=null&&(P=v._bodyInit,v.bodyUsed=!0)}else this.url=String(v);if(this.credentials=_.credentials||this.credentials||"same-origin",(_.headers||!this.headers)&&(this.headers=new d(_.headers)),this.method=D(_.method||this.method||"GET"),this.mode=_.mode||this.mode||null,this.signal=_.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&P)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(P)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})};function I(v){var _=new FormData;return v.trim().split("&").forEach(function(P){if(P){var B=P.split("="),G=B.shift().replace(/\+/g," "),F=B.join("=").replace(/\+/g," ");_.append(decodeURIComponent(G),decodeURIComponent(F))}}),_}function R(v){var _=new d,P=v.replace(/\r?\n[\t ]+/g," ");return P.split(/\r?\n/).forEach(function(B){var G=B.split(":"),F=G.shift().trim();if(F){var he=G.join(":").trim();_.append(F,he)}}),_}E.call(w.prototype);function A(v,_){_||(_={}),this.type="default",this.status=_.status===void 0?200:_.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in _?_.statusText:"OK",this.headers=new d(_.headers),this.url=_.url||"",this._initBody(v)}E.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new d(this.headers),url:this.url})},A.error=function(){var v=new A(null,{status:0,statusText:""});return v.type="error",v};var K=[301,302,303,307,308];A.redirect=function(v,_){if(K.indexOf(_)===-1)throw new RangeError("Invalid status code");return new A(null,{status:_,headers:{location:v}})},o.DOMException=n.DOMException;try{new o.DOMException}catch{o.DOMException=function(_,P){this.message=_,this.name=P;var B=Error(_);this.stack=B.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function $(v,_){return new Promise(function(P,B){var G=new w(v,_);if(G.signal&&G.signal.aborted)return B(new o.DOMException("Aborted","AbortError"));var F=new XMLHttpRequest;function he(){F.abort()}F.onload=function(){var W={status:F.status,statusText:F.statusText,headers:R(F.getAllResponseHeaders()||"")};W.url="responseURL"in F?F.responseURL:W.headers.get("X-Request-URL");var Ke="response"in F?F.response:F.responseText;P(new A(Ke,W))},F.onerror=function(){B(new TypeError("Network request failed"))},F.ontimeout=function(){B(new TypeError("Network request failed"))},F.onabort=function(){B(new o.DOMException("Aborted","AbortError"))},F.open(G.method,G.url,!0),G.credentials==="include"?F.withCredentials=!0:G.credentials==="omit"&&(F.withCredentials=!1),"responseType"in F&&a.blob&&(F.responseType="blob"),G.headers.forEach(function(W,Ke){F.setRequestHeader(Ke,W)}),G.signal&&(G.signal.addEventListener("abort",he),F.onreadystatechange=function(){F.readyState===4&&G.signal.removeEventListener("abort",he)}),F.send(typeof G._bodyInit>"u"?null:G._bodyInit)})}return $.polyfill=!0,n.fetch||(n.fetch=$,n.Headers=d,n.Request=w,n.Response=A),o.Headers=d,o.Request=w,o.Response=A,o.fetch=$,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var s=r;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,i.exports=e})(Ut,Ut.exports);var Kt=Ut.exports;const Wt=Gi(Kt),_t=on({__proto__:null,default:Wt},[Kt]);class vn{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.allowEmpty=e.allowEmpty,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Wt:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async n=>{var o,a,l;let c=null,u=null,h=null,m=n.status,f=n.statusText;if(n.ok){if(this.method!=="HEAD"){const y=await n.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=y:u=JSON.parse(y))}const g=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),p=(a=n.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");g&&p&&p.length>1&&(h=parseInt(p[1]))}else{const g=await n.text();try{c=JSON.parse(g),Array.isArray(c)&&n.status===404&&(u=[],c=null,m=200,f="OK")}catch{n.status===404&&g===""?(m=204,f="No Content"):c={message:g}}if(c&&this.allowEmpty&&(!((l=c?.details)===null||l===void 0)&&l.includes("Results contain 0 rows"))&&(c=null,m=200,f="OK"),c&&this.shouldThrowOnError)throw c}return{error:c,data:u,count:h,status:m,statusText:f}});return this.shouldThrowOnError||(s=s.catch(n=>{var o,a,l;return{error:{message:`${(o=n?.name)!==null&&o!==void 0?o:"FetchError"}: ${n?.message}`,details:`${(a=n?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=n?.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}}class yn extends vn{select(e){let t=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s}={}){const n=s?`${s}.order`:"order",o=this.url.searchParams.get(n);return this.url.searchParams.set(n,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t}={}){const r=typeof t>"u"?"limit":`${t}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:r}={}){const s=typeof r>"u"?"offset":`${r}.offset`,n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(n,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.headers.Accept="application/vnd.pgrst.object+json",this.allowEmpty=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:n=!1,format:o="text"}={}){const a=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,n?"wal":null].filter(Boolean).join("|"),l=this.headers.Accept;return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${a};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Ue extends yn{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const r=t.map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let n="";s==="plain"?n="pl":s==="phrase"?n="ph":s==="websearch"&&(n="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${n}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t}={}){const r=t?`${t}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}}class _n{constructor(e,{headers:t={},schema:r,fetch:s}){this.url=e,this.headers=t,this.schema=r,this.fetch=s}select(e,{head:t=!1,count:r}={}){const s=t?"HEAD":"GET";let n=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new Ue({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:r=!0}={}){const s="POST",n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push(`count=${t}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Ue({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:s,defaultToNull:n=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ue({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new Ue({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ue({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const bn="1.6.0",wn={"X-Client-Info":`postgrest-js/${bn}`};class kn{constructor(e,{headers:t={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},wn),t),this.schema=r,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new _n(t,{headers:Object.assign({},this.headers),schema:this.schema,fetch:this.fetch})}rpc(e,t={},{head:r=!1,count:s}={}){let n;const o=new URL(`${this.url}/rpc/${e}`);let a;r?(n="HEAD",Object.entries(t).forEach(([c,u])=>{o.searchParams.append(c,`${u}`)})):(n="POST",a=t);const l=Object.assign({},this.headers);return s&&(l.Prefer=`count=${s}`),new Ue({method:n,url:o,headers:l,schema:this.schema,body:a,fetch:this.fetch,allowEmpty:!1})}}var Ot,gr;function Sn(){if(gr)return Ot;gr=1;var i=function(){if(typeof self=="object"&&self)return self;if(typeof window=="object"&&window)return window;throw new Error("Unable to resolve global `this`")};return Ot=function(){if(this)return this;if(typeof globalThis=="object"&&globalThis)return globalThis;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:!0})}catch{return i()}try{return __global__||i()}finally{delete Object.prototype.__global__}}(),Ot}const En="websocket",On="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",Tn=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],An="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",xn=["Iñaki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],Rn="1.0.34",Pn={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},Cn="https://github.com/theturtle32/WebSocket-Node",jn={node:">=4.0.0"},Dn={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},In={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},Ln={verbose:!1},Un={test:"tape test/unit/*.js",gulp:"gulp"},Fn="index",Bn={lib:"./lib"},Nn="lib/browser.js",Mn="Apache-2.0",Hn={name:En,description:On,keywords:Tn,author:An,contributors:xn,version:Rn,repository:Pn,homepage:Cn,engines:jn,dependencies:Dn,devDependencies:In,config:Ln,scripts:Un,main:Fn,directories:Bn,browser:Nn,license:Mn};var zn=Hn.version,xe;if(typeof globalThis=="object")xe=globalThis;else try{xe=Sn()}catch{}finally{if(!xe&&typeof window<"u"&&(xe=window),!xe)throw new Error("Could not determine global this")}var Ze=xe.WebSocket||xe.MozWebSocket,Jn=zn;function hi(i,e){var t;return e?t=new Ze(i,e):t=new Ze(i),t}Ze&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(i){Object.defineProperty(hi,i,{get:function(){return Ze[i]}})});var Vn={w3cwebsocket:Ze?hi:null,version:Jn};const qn="2.7.2",Gn={"X-Client-Info":`realtime-js/${qn}`},Kn="1.0.0",di=1e4,Wn=1e3;var Ye;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(Ye||(Ye={}));var re;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(re||(re={}));var ue;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(ue||(ue={}));var Ft;(function(i){i.websocket="websocket"})(Ft||(Ft={}));var Re;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Re||(Re={}));class fi{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class Xn{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const s=t.getUint8(1),n=t.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+n));o=o+n;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Tt{constructor(e,t,r={},s=di){this.channel=e,this.event=t,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null,this.rateLimited=!1}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){if(this._hasReceived("timeout"))return;this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()})==="rate limited"&&(this.rateLimited=!0)}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var pr;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(pr||(pr={}));class Qe{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:n,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qe.syncState(this.state,s,n,o),this.pendingDiffs.forEach(l=>{this.state=Qe.syncDiff(this.state,l,n,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:n,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Qe.syncDiff(this.state,s,n,o),a())}),this.onJoin((s,n,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:n,newPresences:o})}),this.onLeave((s,n,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:n,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,s){const n=this.cloneDeep(e),o=this.transformState(t),a={},l={};return this.map(n,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=n[c];if(h){const m=u.map(p=>p.presence_ref),f=h.map(p=>p.presence_ref),d=u.filter(p=>f.indexOf(p.presence_ref)<0),g=h.filter(p=>m.indexOf(p.presence_ref)<0);d.length>0&&(a[c]=d),g.length>0&&(l[c]=g)}else a[c]=u}),this.syncDiff(n,{joins:a,leaves:l},r,s)}static syncDiff(e,t,r,s){const{joins:n,leaves:o}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(n,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(f=>f.presence_ref),m=u.filter(f=>h.indexOf(f.presence_ref)<0);e[a].unshift(...m)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const s=e[r];return"metas"in s?t[r]=s.metas.map(n=>(n.presence_ref=n.phx_ref,delete n.phx_ref,delete n.phx_ref_prev,n)):t[r]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var z;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(z||(z={}));const vr=(i,e,t={})=>{var r;const s=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((n,o)=>(n[o]=Yn(o,i,e,s),n),{})},Yn=(i,e,t,r)=>{const s=e.find(a=>a.name===i),n=s?.type,o=t[i];return n&&!r.includes(n)?mi(n,o):Bt(o)},mi=(i,e)=>{if(i.charAt(0)==="_"){const t=i.slice(1,i.length);return es(e,t)}switch(i){case z.bool:return Qn(e);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return Zn(e);case z.json:case z.jsonb:return $n(e);case z.timestamp:return ts(e);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return Bt(e);default:return Bt(e)}},Bt=i=>i,Qn=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Zn=i=>{if(typeof i=="string"){const e=parseFloat(i);if(!Number.isNaN(e))return e}return i},$n=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch(e){return console.log(`JSON parse error: ${e}`),i}return i},es=(i,e)=>{if(typeof i!="string")return i;const t=i.length-1,r=i[t];if(i[0]==="{"&&r==="}"){let n;const o=i.slice(1,t);try{n=JSON.parse("["+o+"]")}catch{n=o?o.split(","):[]}return n.map(a=>mi(e,a))}return i},ts=i=>typeof i=="string"?i.replace(" ","T"):i;var yr=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})},_r;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(_r||(_r={}));var br;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes"})(br||(br={}));var wr;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(wr||(wr={}));class Xt{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},t.config),this.timeout=this.socket.timeout,this.joinPush=new Tt(this,ue.join,this.params,this.timeout),this.rejoinTimer=new fi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=re.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ue.reply,{},(s,n)=>{this._trigger(this._replyEventName(n),s)}),this.presence=new Qe(this)}subscribe(e,t=this.timeout){var r,s;if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:n,presence:o}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const a={},l={broadcast:n,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(c=>c.filter))!==null&&s!==void 0?s:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",({postgres_changes:c})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,m=(u=h?.length)!==null&&u!==void 0?u:0,f=[];for(let d=0;d<m;d++){const g=h[d],{filter:{event:p,schema:y,table:b,filter:O}}=g,T=c&&c[d];if(T&&T.event===p&&T.schema===y&&T.table===b&&T.filter===O)f.push(Object.assign(Object.assign({},g),{id:T.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=f,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}track(e,t={}){return yr(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)})}untrack(e={}){return yr(this,void 0,void 0,function*(){return yield this.send({type:"presence",event:"untrack"},e)})}on(e,t,r){return this._on(e,t,r)}send(e,t={}){return new Promise(r=>{var s,n,o;const a=this._push(e.type,e,t.timeout||this.timeout);a.rateLimited&&r("rate limited"),e.type==="broadcast"&&!(!((o=(n=(s=this.params)===null||s===void 0?void 0:s.config)===null||n===void 0?void 0:n.broadcast)===null||o===void 0)&&o.ack)&&r("ok"),a.receive("ok",()=>r("ok")),a.receive("timeout",()=>r("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=re.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ue.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Tt(this,ue.leave,{},e);s.receive("ok",()=>{t(),r("ok")}).receive("timeout",()=>{t(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Tt(this,e,t,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var s,n;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=ue;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let m=this._onMessage(o,t,r);if(t&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var d,g,p;return((d=f.filter)===null||d===void 0?void 0:d.event)==="*"||((p=(g=f.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===o}).map(f=>f.callback(m,r)):(n=this.bindings[o])===null||n===void 0||n.filter(f=>{var d,g,p,y,b,O;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){const T=f.id,E=(d=f.filter)===null||d===void 0?void 0:d.event;return T&&((g=t.ids)===null||g===void 0?void 0:g.includes(T))&&(E==="*"||E?.toLocaleLowerCase()===((p=t.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const T=(b=(y=f?.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase();return T==="*"||T===((O=t?.event)===null||O===void 0?void 0:O.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof m=="object"&&"ids"in m){const d=m.data,{schema:g,table:p,commit_timestamp:y,type:b,errors:O}=d;m=Object.assign(Object.assign({},{schema:g,table:p,commit_timestamp:y,eventType:b,new:{},old:{},errors:O}),this._getPayloadRecords(d))}f.callback(m,r)})}_isClosed(){return this.state===re.closed}_isJoined(){return this.state===re.joined}_isJoining(){return this.state===re.joining}_isLeaving(){return this.state===re.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const s=e.toLocaleLowerCase(),n={type:s,filter:t,callback:r};return this.bindings[s]?this.bindings[s].push(n):this.bindings[s]=[n],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var n;return!(((n=s.type)===null||n===void 0?void 0:n.toLocaleLowerCase())===r&&Xt.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ue.close,{},e)}_onError(e){this._on(ue.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=re.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=vr(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=vr(e.columns,e.old_record)),t}}var At=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};const rs=()=>{};class is{constructor(e,t){var r;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=Gn,this.params={},this.timeout=di,this.transport=Vn.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=rs,this.conn=null,this.sendBuffer=[],this.serializer=new Xn,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.eventsPerSecondLimitMs=100,this.inThrottle=!1,this.endPoint=`${e}/${Ft.websocket}`,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),t?.transport&&(this.transport=t.transport),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(r=t?.params)===null||r===void 0?void 0:r.eventsPerSecond;s&&(this.eventsPerSecondLimitMs=Math.floor(1e3/s)),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:n=>[1e3,2e3,5e3,1e4][n-1]||1e4,this.encode=t?.encode?t.encode:(n,o)=>o(JSON.stringify(n)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new fi(()=>At(this,void 0,void 0,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this._endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(e){return At(this,void 0,void 0,function*(){const t=yield e.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return At(this,void 0,void 0,function*(){const e=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.disconnect(),e})}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ye.connecting:return Re.Connecting;case Ye.open:return Re.Open;case Ye.closing:return Re.Closing;default:return Re.Closed}}isConnected(){return this.connectionState()===Re.Open}channel(e,t={config:{}}){this.isConnected()||this.connect();const r=new Xt(`realtime:${e}`,t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:s,ref:n}=e;let o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};if(this.log("push",`${t} ${r} (${n})`,s),this.isConnected())if(["broadcast","presence","postgres_changes"].includes(r)){if(this._throttle(o)())return"rate limited"}else o();else this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(ue.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Kn}))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:s,payload:n,ref:o}=t;(o&&o===this.pendingHeartbeatRef||s===n?.type)&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,n),this.channels.filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,n,o)),this.stateChangeCallbacks.message.forEach(a=>a(t))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(ue.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${r}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(Wn,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}_throttle(e,t=this.eventsPerSecondLimitMs){return()=>this.inThrottle?!0:(e(),t>0&&(this.inThrottle=!0,setTimeout(()=>{this.inThrottle=!1},t)),!1)}}class Yt extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Y(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}class ns extends Yt{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class kr extends Yt{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var gi=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};const pi=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...t)=>gi(void 0,void 0,void 0,function*(){return yield(yield vt(()=>Promise.resolve().then(()=>_t),void 0,import.meta.url)).fetch(...t)}):e=fetch,(...t)=>e(...t)},ss=()=>gi(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield vt(()=>Promise.resolve().then(()=>_t),void 0,import.meta.url)).Response:Response});var Ge=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};const xt=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),os=(i,e)=>Ge(void 0,void 0,void 0,function*(){const t=yield ss();i instanceof t?i.json().then(r=>{e(new ns(xt(r),i.status||500))}).catch(r=>{e(new kr(xt(r),r))}):e(new kr(xt(i),i))}),as=(i,e,t,r)=>{const s={method:i,headers:e?.headers||{}};return i==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e?.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),t))};function bt(i,e,t,r,s,n){return Ge(this,void 0,void 0,function*(){return new Promise((o,a)=>{i(t,as(e,r,s,n)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>os(l,a))})})}function Nt(i,e,t,r){return Ge(this,void 0,void 0,function*(){return bt(i,"GET",e,t,r)})}function we(i,e,t,r,s){return Ge(this,void 0,void 0,function*(){return bt(i,"POST",e,r,s,t)})}function ls(i,e,t,r,s){return Ge(this,void 0,void 0,function*(){return bt(i,"PUT",e,r,s,t)})}function vi(i,e,t,r,s){return Ge(this,void 0,void 0,function*(){return bt(i,"DELETE",e,r,s,t)})}var le=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};const cs={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sr={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class us{constructor(e,t={},r,s){this.url=e,this.headers=t,this.bucketId=r,this.fetch=pi(s)}uploadOrUpdate(e,t,r,s){return le(this,void 0,void 0,function*(){try{let n;const o=Object.assign(Object.assign({},Sr),s),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&r instanceof Blob?(n=new FormData,n.append("cacheControl",o.cacheControl),n.append("",r)):typeof FormData<"u"&&r instanceof FormData?(n=r,n.append("cacheControl",o.cacheControl)):(n=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:n,headers:a},o?.duplex?{duplex:o.duplex}:{}));return u.ok?{data:{path:l},error:null}:{data:null,error:yield u.json()}}catch(n){if(Y(n))return{data:null,error:n};throw n}})}upload(e,t,r){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,s){return le(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(e),o=this._getFinalPath(n),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",t);try{let l;const c=Object.assign({upsert:Sr.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u});return h.ok?{data:{path:n},error:null}:{data:null,error:yield h.json()}}catch(l){if(Y(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e){return le(this,void 0,void 0,function*(){try{let t=this._getFinalPath(e);const r=yield we(this.fetch,`${this.url}/object/upload/sign/${t}`,{},{headers:this.headers}),s=new URL(this.url+r.url),n=s.searchParams.get("token");if(!n)throw new Yt("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:n},error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}update(e,t,r){return le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t){return le(this,void 0,void 0,function*(){try{return{data:yield we(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}copy(e,t){return le(this,void 0,void 0,function*(){try{return{data:{path:(yield we(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t},{headers:this.headers})).Key},error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}createSignedUrl(e,t,r){return le(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),n=yield we(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${o}`)},{data:n,error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,r){return le(this,void 0,void 0,function*(){try{const s=yield we(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),n=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${n}`):null})),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}download(e,t){return le(this,void 0,void 0,function*(){const s=typeof t?.transform<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString(t?.transform||{}),o=n?`?${n}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Nt(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(Y(a))return{data:null,error:a};throw a}})}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],n=t?.download?`download=${t.download===!0?"":t.download}`:"";n!==""&&s.push(n);const a=typeof t?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(t?.transform||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return le(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}list(e,t,r){return le(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},cs),t),{prefix:e||""});return{data:yield we(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const hs="2.5.1",ds={"X-Client-Info":`storage-js/${hs}`};var Le=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};class fs{constructor(e,t={},r){this.url=e,this.headers=Object.assign(Object.assign({},ds),t),this.fetch=pi(r)}listBuckets(){return Le(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Y(e))return{data:null,error:e};throw e}})}getBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Le(this,void 0,void 0,function*(){try{return{data:yield we(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Le(this,void 0,void 0,function*(){try{return{data:yield ls(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Y(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield we(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Le(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Y(t))return{data:null,error:t};throw t}})}}class ms extends fs{constructor(e,t={},r){super(e,t,r)}from(e){return new us(this.url,this.headers,e,this.fetch)}}const gs="2.21.0",ps={"X-Client-Info":`supabase-js/${gs}`};var vs=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};const ys=i=>{let e;return i?e=i:typeof fetch>"u"?e=Wt:e=fetch,(...t)=>e(...t)},_s=()=>typeof Headers>"u"?Kt.Headers:Headers,bs=(i,e,t)=>{const r=ys(t),s=_s();return(n,o)=>vs(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:i;let c=new s(o?.headers);return c.has("apikey")||c.set("apikey",i),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(n,Object.assign(Object.assign({},o),{headers:c}))})};function ws(i){return i.replace(/\/$/,"")}function ks(i,e){const{db:t,auth:r,realtime:s,global:n}=i,{db:o,auth:a,realtime:l,global:c}=e;return{db:Object.assign(Object.assign({},o),t),auth:Object.assign(Object.assign({},a),r),realtime:Object.assign(Object.assign({},l),s),global:Object.assign(Object.assign({},c),n)}}var Ie=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};function Ss(i){return Math.round(Date.now()/1e3)+i}function Es(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){const e=Math.random()*16|0;return(i=="x"?e:e&3|8).toString(16)})}const be=()=>typeof document<"u",Ae={tested:!1,writable:!1},Rt=()=>{if(!be())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ae.tested)return Ae.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Ae.tested=!0,Ae.writable=!0}catch{Ae.tested=!0,Ae.writable=!1}return Ae.writable};function ee(i,e){var t;e||(e=((t=window?.location)===null||t===void 0?void 0:t.href)||""),i=i.replace(/[\[\]]/g,"\\$&");const r=new RegExp("[?&#]"+i+"(=([^&#]*)|&|#|$)"),s=r.exec(e);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}const yi=i=>{let e;return i?e=i:typeof fetch>"u"?e=(...t)=>Ie(void 0,void 0,void 0,function*(){return yield(yield vt(()=>Promise.resolve().then(()=>_t),void 0,import.meta.url)).fetch(...t)}):e=fetch,(...t)=>e(...t)},Os=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",We=(i,e,t)=>Ie(void 0,void 0,void 0,function*(){yield i.setItem(e,JSON.stringify(t))}),at=(i,e)=>Ie(void 0,void 0,void 0,function*(){const t=yield i.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Pt=(i,e)=>Ie(void 0,void 0,void 0,function*(){yield i.removeItem(e)});function Ts(i){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let t="",r,s,n,o,a,l,c,u=0;for(i=i.replace("-","+").replace("_","/");u<i.length;)o=e.indexOf(i.charAt(u++)),a=e.indexOf(i.charAt(u++)),l=e.indexOf(i.charAt(u++)),c=e.indexOf(i.charAt(u++)),r=o<<2|a>>4,s=(a&15)<<4|l>>2,n=(l&3)<<6|c,t=t+String.fromCharCode(r),l!=64&&s!=0&&(t=t+String.fromCharCode(s)),c!=64&&n!=0&&(t=t+String.fromCharCode(n));return t}class wt{constructor(){this.promise=new wt.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}wt.promiseConstructor=Promise;function Er(i){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,t=i.split(".");if(t.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(t[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=t[1];return JSON.parse(Ts(r))}function As(i){return new Promise(e=>{setTimeout(()=>e(null),i)})}function xs(i,e){return new Promise((r,s)=>{Ie(this,void 0,void 0,function*(){for(let n=0;n<1/0;n++)try{const o=yield i(n);if(!e(n,null,o)){r(o);return}}catch(o){if(!e(n,o)){s(o);return}}})})}function Rs(i){return("0"+i.toString(16)).substr(-2)}function lt(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let s="";for(let n=0;n<56;n++)s+=t.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Rs).join("")}function Ps(i){return Ie(this,void 0,void 0,function*(){const t=new TextEncoder().encode(i),r=yield crypto.subtle.digest("SHA-256",t),s=new Uint8Array(r);return Array.from(s).map(n=>String.fromCharCode(n)).join("")})}function Cs(i){return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}function ct(i){return Ie(this,void 0,void 0,function*(){if(typeof crypto>"u")return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const e=yield Ps(i);return Cs(e)})}class Qt extends Error{constructor(e,t){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t}}function N(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class js extends Qt{constructor(e,t){super(e,t),this.name="AuthApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function Ds(i){return N(i)&&i.name==="AuthApiError"}class _i extends Qt{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class it extends Qt{constructor(e,t,r){super(e),this.name=t,this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Xe extends it{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Ct extends it{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class pe extends it{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jt extends it{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Mt extends it{constructor(e,t){super(e,"AuthRetryableFetchError",t)}}var Zt=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})},Is=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(i);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(i,r[s])&&(t[r[s]]=i[r[s]]);return t};const ut=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Ls=(i,e)=>Zt(void 0,void 0,void 0,function*(){const t=[502,503,504];Os(i)?t.includes(i.status)?e(new Mt(ut(i),i.status)):i.json().then(r=>{e(new js(ut(r),i.status||500))}).catch(r=>{e(new _i(ut(r),r))}):e(new Mt(ut(i),0))}),Us=(i,e,t,r)=>{const s={method:i,headers:e?.headers||{}};return i==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),t))};function M(i,e,t,r){var s;return Zt(this,void 0,void 0,function*(){const n=Object.assign({},r?.headers);r?.jwt&&(n.Authorization=`Bearer ${r.jwt}`);const o=(s=r?.query)!==null&&s!==void 0?s:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=yield Fs(i,e,t+a,{headers:n,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}})}function Fs(i,e,t,r,s,n){return Zt(this,void 0,void 0,function*(){return new Promise((o,a)=>{i(t,Us(e,r,s,n)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Ls(l,a))})})}function _e(i){var e;let t=null;Hs(i)&&(t=Object.assign({},i),t.expires_at=Ss(i.expires_in));const r=(e=i.user)!==null&&e!==void 0?e:i;return{data:{session:t,user:r},error:null}}function Pe(i){var e;return{data:{user:(e=i.user)!==null&&e!==void 0?e:i},error:null}}function Bs(i){return{data:i,error:null}}function Ns(i){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:n}=i,o=Is(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:t,hashed_token:r,redirect_to:s,verification_type:n},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Ms(i){return i}function Hs(i){return i.access_token&&i.refresh_token&&i.expires_in}var de=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})},zs=function(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(i);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(i,r[s])&&(t[r[s]]=i[r[s]]);return t};class Js{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=yi(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(e){return de(this,void 0,void 0,function*(){try{return yield M(this.fetch,"POST",`${this.url}/logout`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(t){if(N(t))return{data:null,error:t};throw t}})}inviteUserByEmail(e,t={}){return de(this,void 0,void 0,function*(){try{return yield M(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Pe})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}})}generateLink(e){return de(this,void 0,void 0,function*(){try{const{options:t}=e,r=zs(e,["options"]),s=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(s.new_email=r?.newEmail,delete s.newEmail),yield M(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Ns,redirectTo:t?.redirectTo})}catch(t){if(N(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(e){return de(this,void 0,void 0,function*(){try{return yield M(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pe})}catch(t){if(N(t))return{data:{user:null},error:t};throw t}})}listUsers(e){var t,r,s,n,o,a,l;return de(this,void 0,void 0,function*(){try{const c={nextPage:null,lastPage:0,total:0},u=yield M(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(n=(s=e?.perPage)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:""},xform:Ms});if(u.error)throw u.error;const h=yield u.json(),m=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(d=>{const g=parseInt(d.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(d.split(";")[1].split("=")[1]);c[`${p}Page`]=g}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(N(c))return{data:{users:[]},error:c};throw c}})}getUserById(e){return de(this,void 0,void 0,function*(){try{return yield M(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pe})}catch(t){if(N(t))return{data:{user:null},error:t};throw t}})}updateUserById(e,t){return de(this,void 0,void 0,function*(){try{return yield M(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Pe})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}})}deleteUser(e,t=!1){return de(this,void 0,void 0,function*(){try{return yield M(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Pe})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}})}_listFactors(e){return de(this,void 0,void 0,function*(){try{const{data:t,error:r}=yield M(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:r}}catch(t){if(N(t))return{data:null,error:t};throw t}})}_deleteFactor(e){return de(this,void 0,void 0,function*(){try{return{data:yield M(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(N(t))return{data:null,error:t};throw t}})}}const Vs="2.24.0",qs="http://localhost:9999",Gs="supabase.auth.token",Ks={"X-Client-Info":`gotrue-js/${Vs}`},Ws=10,Xs={getItem:i=>Rt()?globalThis.localStorage.getItem(i):null,setItem:(i,e)=>{Rt()&&globalThis.localStorage.setItem(i,e)},removeItem:i=>{Rt()&&globalThis.localStorage.removeItem(i)}};function Ys(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var L=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};Ys();const Qs={url:qs,storageKey:Gs,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ks,flowType:"implicit"},Dt=30*1e3,Zs=3;class $s{constructor(e){var t;this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.broadcastChannel=null;const r=Object.assign(Object.assign({},Qs),e);if(this.inMemorySession=null,this.storageKey=r.storageKey,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.storage=r.storage||Xs,this.admin=new Js({url:r.url,headers:r.headers,fetch:r.fetch}),this.url=r.url,this.headers=r.headers,this.fetch=yi(r.fetch),this.detectSessionInUrl=r.detectSessionInUrl,this.flowType=r.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},be()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(t=this.broadcastChannel)===null||t===void 0||t.addEventListener("message",s=>{this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}initialize(){return this.initializePromise||(this.initializePromise=this._initialize()),this.initializePromise}_initialize(){return L(this,void 0,void 0,function*(){if(this.initializePromise)return this.initializePromise;try{const e=yield this._isPKCEFlow();if(this.detectSessionInUrl&&this._isImplicitGrantFlow()||e){const{data:t,error:r}=yield this._getSessionFromUrl(e);if(r)return yield this._removeSession(),{error:r};const{session:s,redirectType:n}=t;return yield this._saveSession(s),setTimeout(()=>{n==="recovery"?this._notifyAllSubscribers("PASSWORD_RECOVERY",s):this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(e){return N(e)?{error:e}:{error:new _i("Unexpected error during initialization",e)}}finally{yield this._handleVisibilityChange()}})}signUp(e){var t,r,s;return L(this,void 0,void 0,function*(){try{yield this._removeSession();let n;if("email"in e){const{email:u,password:h,options:m}=e;let f=null,d=null;if(this.flowType==="pkce"){const g=lt();yield We(this.storage,`${this.storageKey}-code-verifier`,g),f=yield ct(g),d=g===f?"plain":"s256"}n=yield M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m?.emailRedirectTo,body:{email:u,password:h,data:(t=m?.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:f,code_challenge_method:d},xform:_e})}else if("phone"in e){const{phone:u,password:h,options:m}=e;n=yield M(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=m?.data)!==null&&r!==void 0?r:{},channel:(s=m?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m?.captchaToken}},xform:_e})}else throw new Ct("You must provide either an email or phone number and a password");const{data:o,error:a}=n;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(yield this._saveSession(o.session),this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(N(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithPassword(e){return L(this,void 0,void 0,function*(){try{yield this._removeSession();let t;if("email"in e){const{email:n,password:o,options:a}=e;t=yield M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:_e})}else if("phone"in e){const{phone:n,password:o,options:a}=e;t=yield M(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:_e})}else throw new Ct("You must provide either an email or phone number and a password");const{data:r,error:s}=t;return s||!r?{data:{user:null,session:null},error:s}:(r.session&&(yield this._saveSession(r.session),this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:r,error:s})}catch(t){if(N(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOAuth(e){var t,r,s,n;return L(this,void 0,void 0,function*(){return yield this._removeSession(),yield this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(n=e.options)===null||n===void 0?void 0:n.skipBrowserRedirect})})}exchangeCodeForSession(e){return L(this,void 0,void 0,function*(){const t=yield at(this.storage,`${this.storageKey}-code-verifier`),{data:r,error:s}=yield M(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:t},xform:_e});return yield Pt(this.storage,`${this.storageKey}-code-verifier`),s||!r?{data:{user:null,session:null},error:s}:(r.session&&(yield this._saveSession(r.session),this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:r,error:s})})}signInWithIdToken(e){return L(this,void 0,void 0,function*(){yield this._removeSession();try{const{options:t,provider:r,token:s,nonce:n}=e,o=yield M(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,nonce:n,gotrue_meta_security:{captcha_token:t?.captchaToken}},xform:_e}),{data:a,error:l}=o;return l||!a?{data:{user:null,session:null},error:l}:(a.session&&(yield this._saveSession(a.session),this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:l})}catch(t){if(N(t))return{data:{user:null,session:null},error:t};throw t}})}signInWithOtp(e){var t,r,s,n,o;return L(this,void 0,void 0,function*(){try{if(yield this._removeSession(),"email"in e){const{email:a,options:l}=e;let c=null,u=null;if(this.flowType==="pkce"){const m=lt();yield We(this.storage,`${this.storageKey}-code-verifier`,m),c=yield ct(m),u=m===c?"plain":"s256"}const{error:h}=yield M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(t=l?.data)!==null&&t!==void 0?t:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{error:c}=yield M(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(n=l?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null},error:c}}throw new Ct("You must provide either an email or phone number.")}catch(a){if(N(a))return{data:{user:null,session:null},error:a};throw a}})}verifyOtp(e){var t,r;return L(this,void 0,void 0,function*(){try{yield this._removeSession();const{data:s,error:n}=yield M(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:(t=e.options)===null||t===void 0?void 0:t.captchaToken}}),redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,xform:_e});if(n)throw n;if(!s)throw new Error("An error occurred on token verification.");const o=s.session,a=s.user;return o?.access_token&&(yield this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:a,session:o},error:null}}catch(s){if(N(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithSSO(e){var t,r,s;return L(this,void 0,void 0,function*(){try{return yield this._removeSession(),yield M(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0}),headers:this.headers,xform:Bs})}catch(n){if(N(n))return{data:null,error:n};throw n}})}getSession(){return L(this,void 0,void 0,function*(){yield this.initializePromise;let e=null;if(this.persistSession){const n=yield at(this.storage,this.storageKey);n!==null&&(this._isValidSession(n)?e=n:yield this._removeSession())}else e=this.inMemorySession;if(!e)return{data:{session:null},error:null};if(!(e.expires_at?e.expires_at<=Date.now()/1e3:!1))return{data:{session:e},error:null};const{session:r,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:r},error:null}})}getUser(e){var t,r;return L(this,void 0,void 0,function*(){try{if(!e){const{data:s,error:n}=yield this.getSession();if(n)throw n;e=(r=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:void 0}return yield M(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pe})}catch(s){if(N(s))return{data:{user:null},error:s};throw s}})}updateUser(e,t={}){return L(this,void 0,void 0,function*(){try{const{data:r,error:s}=yield this.getSession();if(s)throw s;if(!r.session)throw new Xe;const n=r.session,{data:o,error:a}=yield M(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t?.emailRedirectTo,body:e,jwt:n.access_token,xform:Pe});if(a)throw a;return n.user=o.user,yield this._saveSession(n),this._notifyAllSubscribers("USER_UPDATED",n),{data:{user:n.user},error:null}}catch(r){if(N(r))return{data:{user:null},error:r};throw r}})}_decodeJWT(e){return Er(e)}setSession(e){return L(this,void 0,void 0,function*(){try{if(!e.access_token||!e.refresh_token)throw new Xe;const t=Date.now()/1e3;let r=t,s=!0,n=null;const o=Er(e.access_token);if(o.exp&&(r=o.exp,s=r<=t),s){const{session:a,error:l}=yield this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};n=a}else{const{data:a,error:l}=yield this.getUser(e.access_token);if(l)throw l;n={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-t,expires_at:r},yield this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(t){if(N(t))return{data:{session:null,user:null},error:t};throw t}})}refreshSession(e){var t;return L(this,void 0,void 0,function*(){try{if(!e){const{data:n,error:o}=yield this.getSession();if(o)throw o;e=(t=n.session)!==null&&t!==void 0?t:void 0}if(!e?.refresh_token)throw new Xe;const{session:r,error:s}=yield this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}}catch(r){if(N(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromUrl(e){return L(this,void 0,void 0,function*(){try{if(!be())throw new pe("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new pe("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new jt("Not a valid PKCE flow url.");if(e){const p=ee("code");if(!p)throw new jt("No code detected.");const{data:y,error:b}=yield this.exchangeCodeForSession(p);if(b)throw b;if(!y.session)throw new jt("No session detected.");return{data:{session:y.session,redirectType:null},error:null}}const t=ee("error_description");if(t){const p=ee("error_code");if(!p)throw new pe("No error_code detected.");const y=ee("error");throw y?new pe(t,{error:y,code:p}):new pe("No error detected.")}const r=ee("provider_token"),s=ee("provider_refresh_token"),n=ee("access_token");if(!n)throw new pe("No access_token detected.");const o=ee("expires_in");if(!o)throw new pe("No expires_in detected.");const a=ee("refresh_token");if(!a)throw new pe("No refresh_token detected.");const l=ee("token_type");if(!l)throw new pe("No token_type detected.");const u=Math.round(Date.now()/1e3)+parseInt(o),{data:h,error:m}=yield this.getUser(n);if(m)throw m;const f=h.user,d={provider_token:r,provider_refresh_token:s,access_token:n,expires_in:parseInt(o),expires_at:u,refresh_token:a,token_type:l,user:f},g=ee("type");return window.location.hash="",{data:{session:d,redirectType:g},error:null}}catch(t){if(N(t))return{data:{session:null,redirectType:null},error:t};throw t}})}_isImplicitGrantFlow(){return be()&&(!!ee("access_token")||!!ee("error_description"))}_isPKCEFlow(){return L(this,void 0,void 0,function*(){const e=yield at(this.storage,`${this.storageKey}-code-verifier`);return be()&&!!ee("code")&&!!e})}signOut(){var e;return L(this,void 0,void 0,function*(){const{data:t,error:r}=yield this.getSession();if(r)return{error:r};const s=(e=t.session)===null||e===void 0?void 0:e.access_token;if(s){const{error:n}=yield this.admin.signOut(s);if(n&&!(Ds(n)&&(n.status===404||n.status===401)))return{error:n}}return yield this._removeSession(),yield Pt(this.storage,`${this.storageKey}-code-verifier`),this._notifyAllSubscribers("SIGNED_OUT",null),{error:null}})}onAuthStateChange(e){const t=Es(),r={id:t,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(t)}};return this.stateChangeEmitters.set(t,r),this.emitInitialSession(t),{data:{subscription:r}}}emitInitialSession(e){var t,r;return L(this,void 0,void 0,function*(){try{const{data:{session:s},error:n}=yield this.getSession();if(n)throw n;(t=this.stateChangeEmitters.get(e))===null||t===void 0||t.callback("INITIAL_SESSION",s)}catch(s){(r=this.stateChangeEmitters.get(e))===null||r===void 0||r.callback("INITIAL_SESSION",null),console.error(s)}})}resetPasswordForEmail(e,t={}){return L(this,void 0,void 0,function*(){let r=null,s=null;if(this.flowType==="pkce"){const n=lt();yield We(this.storage,`${this.storageKey}-code-verifier`,n),r=yield ct(n),s=n===r?"plain":"s256"}try{return yield M(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(n){if(N(n))return{data:null,error:n};throw n}})}_refreshAccessToken(e){return L(this,void 0,void 0,function*(){try{const t=Date.now();return yield xs(r=>L(this,void 0,void 0,function*(){return yield As(r*200),yield M(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_e})}),(r,s,n)=>n&&n.error&&n.error instanceof Mt&&Date.now()+(r+1)*200-t<Dt)}catch(t){if(N(t))return{data:{session:null,user:null},error:t};throw t}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,t){return L(this,void 0,void 0,function*(){const r=yield this._getUrlForProvider(e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return be()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}})}_recoverAndRefresh(){var e;return L(this,void 0,void 0,function*(){try{const t=yield at(this.storage,this.storageKey);if(!this._isValidSession(t)){t!==null&&(yield this._removeSession());return}const r=Math.round(Date.now()/1e3);if(((e=t.expires_at)!==null&&e!==void 0?e:1/0)<r+Ws)if(this.autoRefreshToken&&t.refresh_token){const{error:s}=yield this._callRefreshToken(t.refresh_token);s&&(console.log(s.message),yield this._removeSession())}else yield this._removeSession();else this.persistSession&&(yield this._saveSession(t)),this._notifyAllSubscribers("SIGNED_IN",t)}catch(t){console.error(t);return}})}_callRefreshToken(e){var t,r;return L(this,void 0,void 0,function*(){if(this.refreshingDeferred)return this.refreshingDeferred.promise;try{if(this.refreshingDeferred=new wt,!e)throw new Xe;const{data:s,error:n}=yield this._refreshAccessToken(e);if(n)throw n;if(!s.session)throw new Xe;yield this._saveSession(s.session),this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(N(s)){const n={session:null,error:s};return(t=this.refreshingDeferred)===null||t===void 0||t.resolve(n),n}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null}})}_notifyAllSubscribers(e,t,r=!0){this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t}),this.stateChangeEmitters.forEach(s=>s.callback(e,t))}_saveSession(e){return L(this,void 0,void 0,function*(){this.persistSession||(this.inMemorySession=e),this.persistSession&&e.expires_at&&(yield this._persistSession(e))})}_persistSession(e){return We(this.storage,this.storageKey,e)}_removeSession(){return L(this,void 0,void 0,function*(){this.persistSession?yield Pt(this.storage,this.storageKey):this.inMemorySession=null})}_removeVisibilityChangedCallback(){const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&be()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}_startAutoRefresh(){return L(this,void 0,void 0,function*(){yield this._stopAutoRefresh();const e=setInterval(()=>this._autoRefreshTokenTick(),Dt);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),yield this._autoRefreshTokenTick()})}_stopAutoRefresh(){return L(this,void 0,void 0,function*(){const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return L(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return L(this,void 0,void 0,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return L(this,void 0,void 0,function*(){const e=Date.now();try{const{data:{session:t}}=yield this.getSession();if(!t||!t.refresh_token||!t.expires_at)return;Math.floor((t.expires_at*1e3-e)/Dt)<Zs&&(yield this._callRefreshToken(t.refresh_token))}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}})}_handleVisibilityChange(){return L(this,void 0,void 0,function*(){if(!be()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>L(this,void 0,void 0,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return L(this,void 0,void 0,function*(){document.visibilityState==="visible"?(e||(yield this.initializePromise,yield this._recoverAndRefresh()),this.autoRefreshToken&&this._startAutoRefresh()):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,t){return L(this,void 0,void 0,function*(){const r=[`provider=${encodeURIComponent(e)}`];if(t?.redirectTo&&r.push(`redirect_to=${encodeURIComponent(t.redirectTo)}`),t?.scopes&&r.push(`scopes=${encodeURIComponent(t.scopes)}`),this.flowType==="pkce"){const s=lt();yield We(this.storage,`${this.storageKey}-code-verifier`,s);const n=yield ct(s),o=s===n?"plain":"s256",a=new URLSearchParams({code_challenge:`${encodeURIComponent(n)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(a.toString())}if(t?.queryParams){const s=new URLSearchParams(t.queryParams);r.push(s.toString())}return`${this.url}/authorize?${r.join("&")}`})}_unenroll(e){var t;return L(this,void 0,void 0,function*(){try{const{data:r,error:s}=yield this.getSession();return s?{data:null,error:s}:yield M(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(t=r?.session)===null||t===void 0?void 0:t.access_token})}catch(r){if(N(r))return{data:null,error:r};throw r}})}_enroll(e){var t,r;return L(this,void 0,void 0,function*(){try{const{data:s,error:n}=yield this.getSession();if(n)return{data:null,error:n};const{data:o,error:a}=yield M(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(t=s?.session)===null||t===void 0?void 0:t.access_token});return a?{data:null,error:a}:(!((r=o?.totp)===null||r===void 0)&&r.qr_code&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})}catch(s){if(N(s))return{data:null,error:s};throw s}})}_verify(e){var t;return L(this,void 0,void 0,function*(){try{const{data:r,error:s}=yield this.getSession();if(s)return{data:null,error:s};const{data:n,error:o}=yield M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(t=r?.session)===null||t===void 0?void 0:t.access_token});return o?{data:null,error:o}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+n.expires_in},n)),this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",n),{data:n,error:o})}catch(r){if(N(r))return{data:null,error:r};throw r}})}_challenge(e){var t;return L(this,void 0,void 0,function*(){try{const{data:r,error:s}=yield this.getSession();return s?{data:null,error:s}:yield M(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(t=r?.session)===null||t===void 0?void 0:t.access_token})}catch(r){if(N(r))return{data:null,error:r};throw r}})}_challengeAndVerify(e){return L(this,void 0,void 0,function*(){const{data:t,error:r}=yield this._challenge({factorId:e.factorId});return r?{data:null,error:r}:yield this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})})}_listFactors(){return L(this,void 0,void 0,function*(){const{data:{user:e},error:t}=yield this.getUser();if(t)return{data:null,error:t};const r=e?.factors||[],s=r.filter(n=>n.factor_type==="totp"&&n.status==="verified");return{data:{all:r,totp:s},error:null}})}_getAuthenticatorAssuranceLevel(){var e,t;return L(this,void 0,void 0,function*(){const{data:{session:r},error:s}=yield this.getSession();if(s)return{data:null,error:s};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const n=this._decodeJWT(r.access_token);let o=null;n.aal&&(o=n.aal);let a=o;((t=(e=r.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&t!==void 0?t:[]).length>0&&(a="aal2");const c=n.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:c},error:null}})}}class eo extends $s{constructor(e){super(e)}}var to=function(i,e,t,r){function s(n){return n instanceof t?n:new t(function(o){o(n)})}return new(t||(t=Promise))(function(n,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?n(u.value):s(u.value).then(a,l)}c((r=r.apply(i,e||[])).next())})};const ro={headers:ps},io={schema:"public"},no={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},so={};class oo{constructor(e,t,r){var s,n,o,a,l,c,u,h;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const m=ws(e);if(this.realtimeUrl=`${m}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${m}/auth/v1`,this.storageUrl=`${m}/storage/v1`,m.match(/(supabase\.co)|(supabase\.in)/)){const y=m.split(".");this.functionsUrl=`${y[0]}.functions.${y[1]}.${y[2]}`}else this.functionsUrl=`${m}/functions/v1`;const d=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,g={db:io,realtime:so,auth:Object.assign(Object.assign({},no),{storageKey:d}),global:ro},p=ks(r??{},g);this.storageKey=(n=(s=p.auth)===null||s===void 0?void 0:s.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=(o=p.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=p.auth)!==null&&l!==void 0?l:{},this.headers,(c=p.global)===null||c===void 0?void 0:c.fetch),this.fetch=bs(t,this._getAccessToken.bind(this),(u=p.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},p.realtime)),this.rest=new kn(`${m}/rest/v1`,{headers:this.headers,schema:(h=p.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new pn(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ms(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}rpc(e,t={},r){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return to(this,void 0,void 0,function*(){const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,storageKey:n,flowType:o},a,l){const c={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eo({url:this.authUrl,headers:Object.assign(Object.assign({},c),a),storageKey:n,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,flowType:o,fetch:l})}_initRealtimeClient(e){return new is(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,r?.access_token,"CLIENT")})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==t?(this.realtime.setAuth(t??null),this.changedAccessToken=t):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const ao=(i,e,t)=>new oo(i,e,t);new TextEncoder;const lo=new TextDecoder,co=i=>{const e=atob(i),t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t},uo=i=>{let e=i;e instanceof Uint8Array&&(e=lo.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return co(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}},ho=uo;var fo=Object.create,bi=Object.defineProperty,mo=Object.getOwnPropertyDescriptor,wi=Object.getOwnPropertyNames,go=Object.getPrototypeOf,po=Object.prototype.hasOwnProperty,vo=(i,e)=>function(){return e||(0,i[wi(i)[0]])((e={exports:{}}).exports,e),e.exports},yo=(i,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of wi(e))!po.call(i,s)&&s!==t&&bi(i,s,{get:()=>e[s],enumerable:!(r=mo(e,s))||r.enumerable});return i},ki=(i,e,t)=>(t=i!=null?fo(go(i)):{},yo(e||!i||!i.__esModule?bi(t,"default",{value:i,enumerable:!0}):t,i)),Si=vo({"../../node_modules/.pnpm/cookie@0.5.0/node_modules/cookie/index.js"(i){i.parse=r,i.serialize=s;var e=Object.prototype.toString,t=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function r(c,u){if(typeof c!="string")throw new TypeError("argument str must be a string");for(var h={},m=u||{},f=m.decode||n,d=0;d<c.length;){var g=c.indexOf("=",d);if(g===-1)break;var p=c.indexOf(";",d);if(p===-1)p=c.length;else if(p<g){d=c.lastIndexOf(";",g-1)+1;continue}var y=c.slice(d,g).trim();if(h[y]===void 0){var b=c.slice(g+1,p).trim();b.charCodeAt(0)===34&&(b=b.slice(1,-1)),h[y]=l(b,f)}d=p+1}return h}function s(c,u,h){var m=h||{},f=m.encode||o;if(typeof f!="function")throw new TypeError("option encode is invalid");if(!t.test(c))throw new TypeError("argument name is invalid");var d=f(u);if(d&&!t.test(d))throw new TypeError("argument val is invalid");var g=c+"="+d;if(m.maxAge!=null){var p=m.maxAge-0;if(isNaN(p)||!isFinite(p))throw new TypeError("option maxAge is invalid");g+="; Max-Age="+Math.floor(p)}if(m.domain){if(!t.test(m.domain))throw new TypeError("option domain is invalid");g+="; Domain="+m.domain}if(m.path){if(!t.test(m.path))throw new TypeError("option path is invalid");g+="; Path="+m.path}if(m.expires){var y=m.expires;if(!a(y)||isNaN(y.valueOf()))throw new TypeError("option expires is invalid");g+="; Expires="+y.toUTCString()}if(m.httpOnly&&(g+="; HttpOnly"),m.secure&&(g+="; Secure"),m.priority){var b=typeof m.priority=="string"?m.priority.toLowerCase():m.priority;switch(b){case"low":g+="; Priority=Low";break;case"medium":g+="; Priority=Medium";break;case"high":g+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(m.sameSite){var O=typeof m.sameSite=="string"?m.sameSite.toLowerCase():m.sameSite;switch(O){case!0:g+="; SameSite=Strict";break;case"lax":g+="; SameSite=Lax";break;case"strict":g+="; SameSite=Strict";break;case"none":g+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return g}function n(c){return c.indexOf("%")!==-1?decodeURIComponent(c):c}function o(c){return encodeURIComponent(c)}function a(c){return e.call(c)==="[object Date]"||c instanceof Date}function l(c,u){try{return u(c)}catch{return c}}}});ki(Si());var Ei=ki(Si());function _o(i){if(!i)return null;try{const e=JSON.parse(i);if(!e)return null;if(e.constructor.name==="Object")return e;if(e.constructor.name!=="Array")throw new Error(`Unexpected format: ${e.constructor.name}`);const[t,r,s]=e[0].split("."),n=ho(r),o=new TextDecoder,{exp:a,sub:l,...c}=JSON.parse(o.decode(n));return{expires_at:a,expires_in:a-Math.round(Date.now()/1e3),token_type:"bearer",access_token:e[0],refresh_token:e[1],provider_token:e[2],provider_refresh_token:e[3],user:{id:l,factors:e[4],...c}}}catch(e){return console.warn("Failed to parse cookie string:",e),null}}function bo(i){return JSON.stringify([i.access_token,i.refresh_token,i.provider_token,i.provider_refresh_token,i.user.factors])}function Oi(){return typeof window<"u"}var wo=Ei.parse,Or=Ei.serialize;/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */function ko({serverSession:i,cookieOptions:{name:e="sb-auth-token",domain:t,maxAge:r=60*60*24*365,path:s="/",sameSite:n,secure:o}={}}){return Oi()?{async getItem(){const a=wo(document.cookie)[e],l=_o(a);return JSON.stringify(l)},async setItem(a,l){const c=JSON.parse(l),u=bo(c);document.cookie=Or(e,u,{domain:t,maxAge:r,path:s,sameSite:n,secure:o,httpOnly:!1})},async removeItem(){document.cookie=Or(e,"",{domain:t,maxAge:0,path:s,sameSite:n,secure:o,httpOnly:!1})}}:{async getItem(){return JSON.stringify(i)},setItem(){},removeItem(){}}}var ht,It;function So({supabaseUrl:i,supabaseKey:e,event:t,serverSession:r,options:s,cookieOptions:n,onAuthStateChange:o}){var a;const l=Oi();if(l&&ht)return ht;It?.unsubscribe();const c=ao(i,e,{...s,global:{fetch:t.fetch,...s?.global,headers:{...(a=s?.global)==null?void 0:a.headers,"X-Client-Info":"@supabase/auth-helpers-sveltekit@0.9.4"}},auth:{autoRefreshToken:l,detectSessionInUrl:l,persistSession:!0,storage:ko({cookieOptions:n,serverSession:r})}});return l&&(ht=c,It=o?ht.auth.onAuthStateChange((u,h)=>{o?.(u,h)}).data.subscription:void 0),c}const Eo=async({fetch:i,data:e,depends:t})=>{t("supabase:auth");const r=So({supabaseUrl:cn,supabaseKey:ln,event:{fetch:i},serverSession:e.session}),{data:{session:s}}=await r.auth.getSession();return{supabase:r,session:s}},pl=Object.freeze(Object.defineProperty({__proto__:null,load:Eo},Symbol.toStringTag,{value:"Module"})),Tr=yt(void 0),Ti="drawerStore";function Ai(){const i=Wi(Ti);if(!i)throw new Error("drawerStore is not initialized. Please ensure that `initializeStores()` is invoked in the root layout file of this app!");return i}function Oo(){const i=To();return Jt(Ti,i)}function To(){const{subscribe:i,set:e,update:t}=yt({});return{subscribe:i,set:e,update:t,open:r=>t(()=>({open:!0,...r})),close:()=>t(r=>(r.open=!1,r))}}const Ao="modalStore";function xo(){const i=Ro();return Jt(Ao,i)}function Ro(){const{subscribe:i,set:e,update:t}=yt([]);return{subscribe:i,set:e,update:t,trigger:r=>t(s=>(s.push(r),s)),close:()=>t(r=>(r.length>0&&r.shift(),r)),clear:()=>e([])}}const Po={message:"Missing Toast Message",autohide:!0,timeout:5e3},Co="toastStore";function jo(){const i=Io();return Jt(Co,i)}function Do(){const i=Math.random();return Number(i).toString(32)}function Io(){const{subscribe:i,set:e,update:t}=yt([]),r=n=>t(o=>{if(o.length>0){const a=o.findIndex(c=>c.id===n),l=o[a];l&&(l.callback&&l.callback({id:n,status:"closed"}),l.timeoutId&&clearTimeout(l.timeoutId),o.splice(a,1))}return o});function s(n){if(n.autohide===!0)return setTimeout(()=>{r(n.id)},n.timeout)}return{subscribe:i,close:r,trigger:n=>{const o=Do();return t(a=>{n&&n.callback&&n.callback({id:o,status:"queued"}),n.hideDismiss&&(n.autohide=!0);const l={...Po,...n,id:o};return l.timeoutId=s(l),a.push(l),a}),o},freeze:n=>t(o=>(o.length>0&&clearTimeout(o[n].timeoutId),o)),unfreeze:n=>t(o=>(o.length>0&&(o[n].timeoutId=s(o[n])),o)),clear:()=>e([])}}function Lo(){xo(),jo(),Oo()}function Uo(i,e){const t='a[href]:not([tabindex="-1"]), button:not([tabindex="-1"]), input:not([tabindex="-1"]), textarea:not([tabindex="-1"]), select:not([tabindex="-1"]), details:not([tabindex="-1"]), [tabindex]:not([tabindex="-1"])';let r,s;function n(f){f.shiftKey&&f.code==="Tab"&&(f.preventDefault(),s.focus())}function o(f){!f.shiftKey&&f.code==="Tab"&&(f.preventDefault(),r.focus())}const a=f=>f.filter(d=>d.tabIndex>=0).sort((d,g)=>d.tabIndex===0&&g.tabIndex>0?1:d.tabIndex>0&&g.tabIndex===0?-1:d.tabIndex-g.tabIndex),l=f=>{const d=[...i.querySelectorAll("[data-focusindex]")];return!d||d.length===0?f:d.sort((g,p)=>+g.dataset.focusindex-+p.dataset.focusindex)[0]||f},c=f=>{if(e===!1)return;const d=a(Array.from(i.querySelectorAll(t)));d.length&&(r=d[0],s=d[d.length-1],f||l(r).focus(),r.addEventListener("keydown",n),s.addEventListener("keydown",o))};c(!1);function u(){r&&r.removeEventListener("keydown",n),s&&s.removeEventListener("keydown",o)}const h=(f,d)=>(f.length&&(u(),c(!0)),d),m=new MutationObserver(h);return m.observe(i,{childList:!0,subtree:!0}),{update(f){e=f,f?c(!1):u()},destroy(){u(),m.disconnect()}}}function Fo(i){return i*i*i}function Bo(i){const e=i-1;return e*e*e+1}function Ar(i,{delay:e=0,duration:t=400,easing:r=Xi}={}){const s=+getComputedStyle(i).opacity;return{delay:e,duration:t,easing:r,css:n=>`opacity: ${n*s}`}}function xr(i,{delay:e=0,duration:t=400,easing:r=Bo,x:s=0,y:n=0,opacity:o=0}={}){const a=getComputedStyle(i),l=+a.opacity,c=a.transform==="none"?"":a.transform,u=l*(1-o),[h,m]=nr(s),[f,d]=nr(n);return{delay:e,duration:t,easing:r,css:(g,p)=>`
			transform: ${c} translate(${(1-g)*h}${m}, ${(1-g)*f}${d});
			opacity: ${l-u*p}`}}function dt(i,e){const{transition:t,params:r,enabled:s}=e;return s?t(i,r):"duration"in r?t(i,{duration:0}):{duration:0}}const No=i=>({}),Rr=i=>({}),Mo=i=>({}),Pr=i=>({}),Ho=i=>({}),Cr=i=>({});function jr(i){let e,t,r;const s=i[22].lead,n=ne(s,i,i[21],Cr);return{c(){e=J("div"),n&&n.c(),this.h()},l(o){e=V(o,"DIV",{class:!0});var a=q(e);n&&n.l(a),a.forEach(x),this.h()},h(){k(e,"class",t="app-bar-slot-lead "+i[4])},m(o,a){H(o,e,a),n&&n.m(e,null),r=!0},p(o,a){n&&n.p&&(!r||a&2097152)&&se(n,s,o,o[21],r?ae(s,o[21],a,Ho):oe(o[21]),Cr),(!r||a&16&&t!==(t="app-bar-slot-lead "+o[4]))&&k(e,"class",t)},i(o){r||(j(n,o),r=!0)},o(o){U(n,o),r=!1},d(o){o&&x(e),n&&n.d(o)}}}function Dr(i){let e,t,r;const s=i[22].trail,n=ne(s,i,i[21],Pr);return{c(){e=J("div"),n&&n.c(),this.h()},l(o){e=V(o,"DIV",{class:!0});var a=q(e);n&&n.l(a),a.forEach(x),this.h()},h(){k(e,"class",t="app-bar-slot-trail "+i[2])},m(o,a){H(o,e,a),n&&n.m(e,null),r=!0},p(o,a){n&&n.p&&(!r||a&2097152)&&se(n,s,o,o[21],r?ae(s,o[21],a,Mo):oe(o[21]),Pr),(!r||a&4&&t!==(t="app-bar-slot-trail "+o[2]))&&k(e,"class",t)},i(o){r||(j(n,o),r=!0)},o(o){U(n,o),r=!1},d(o){o&&x(e),n&&n.d(o)}}}function Ir(i){let e,t,r;const s=i[22].headline,n=ne(s,i,i[21],Rr);return{c(){e=J("div"),n&&n.c(),this.h()},l(o){e=V(o,"DIV",{class:!0});var a=q(e);n&&n.l(a),a.forEach(x),this.h()},h(){k(e,"class",t="app-bar-row-headline "+i[5])},m(o,a){H(o,e,a),n&&n.m(e,null),r=!0},p(o,a){n&&n.p&&(!r||a&2097152)&&se(n,s,o,o[21],r?ae(s,o[21],a,No):oe(o[21]),Rr),(!r||a&32&&t!==(t="app-bar-row-headline "+o[5]))&&k(e,"class",t)},i(o){r||(j(n,o),r=!0)},o(o){U(n,o),r=!1},d(o){o&&x(e),n&&n.d(o)}}}function zo(i){let e,t,r,s,n,o,a,l,c,u,h=i[8].lead&&jr(i);const m=i[22].default,f=ne(m,i,i[21],null);let d=i[8].trail&&Dr(i),g=i[8].headline&&Ir(i);return{c(){e=J("div"),t=J("div"),h&&h.c(),r=Q(),s=J("div"),f&&f.c(),o=Q(),d&&d.c(),l=Q(),g&&g.c(),this.h()},l(p){e=V(p,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-label":!0,"aria-labelledby":!0});var y=q(e);t=V(y,"DIV",{class:!0});var b=q(t);h&&h.l(b),r=Z(b),s=V(b,"DIV",{class:!0});var O=q(s);f&&f.l(O),O.forEach(x),o=Z(b),d&&d.l(b),b.forEach(x),l=Z(y),g&&g.l(y),y.forEach(x),this.h()},h(){k(s,"class",n="app-bar-slot-default "+i[3]),k(t,"class",a="app-bar-row-main "+i[6]),k(e,"class",c="app-bar "+i[7]),k(e,"data-testid","app-bar"),k(e,"role","toolbar"),k(e,"aria-label",i[0]),k(e,"aria-labelledby",i[1])},m(p,y){H(p,e,y),X(e,t),h&&h.m(t,null),X(t,r),X(t,s),f&&f.m(s,null),X(t,o),d&&d.m(t,null),X(e,l),g&&g.m(e,null),u=!0},p(p,[y]){p[8].lead?h?(h.p(p,y),y&256&&j(h,1)):(h=jr(p),h.c(),j(h,1),h.m(t,r)):h&&(fe(),U(h,1,1,()=>{h=null}),me()),f&&f.p&&(!u||y&2097152)&&se(f,m,p,p[21],u?ae(m,p[21],y,null):oe(p[21]),null),(!u||y&8&&n!==(n="app-bar-slot-default "+p[3]))&&k(s,"class",n),p[8].trail?d?(d.p(p,y),y&256&&j(d,1)):(d=Dr(p),d.c(),j(d,1),d.m(t,null)):d&&(fe(),U(d,1,1,()=>{d=null}),me()),(!u||y&64&&a!==(a="app-bar-row-main "+p[6]))&&k(t,"class",a),p[8].headline?g?(g.p(p,y),y&256&&j(g,1)):(g=Ir(p),g.c(),j(g,1),g.m(e,null)):g&&(fe(),U(g,1,1,()=>{g=null}),me()),(!u||y&128&&c!==(c="app-bar "+p[7]))&&k(e,"class",c),(!u||y&1)&&k(e,"aria-label",p[0]),(!u||y&2)&&k(e,"aria-labelledby",p[1])},i(p){u||(j(h),j(f,p),j(d),j(g),u=!0)},o(p){U(h),U(f,p),U(d),U(g),u=!1},d(p){p&&x(e),h&&h.d(),f&&f.d(p),d&&d.d(),g&&g.d()}}}const Jo="flex flex-col",Vo="grid items-center",qo="",Go="flex-none flex justify-between items-center",Ko="flex-auto",Wo="flex-none flex items-center space-x-4";function Xo(i,e,t){let r,s,n,o,a,l,{$$slots:c={},$$scope:u}=e;const h=si(c);let{background:m="bg-surface-100-800-token"}=e,{border:f=""}=e,{padding:d="p-4"}=e,{shadow:g=""}=e,{spacing:p="space-y-4"}=e,{gridColumns:y="grid-cols-[auto_1fr_auto]"}=e,{gap:b="gap-4"}=e,{regionRowMain:O=""}=e,{regionRowHeadline:T=""}=e,{slotLead:E=""}=e,{slotDefault:C=""}=e,{slotTrail:D=""}=e,{label:w=""}=e,{labelledby:I=""}=e;return i.$$set=R=>{t(23,e=Se(Se({},e),Ee(R))),"background"in R&&t(9,m=R.background),"border"in R&&t(10,f=R.border),"padding"in R&&t(11,d=R.padding),"shadow"in R&&t(12,g=R.shadow),"spacing"in R&&t(13,p=R.spacing),"gridColumns"in R&&t(14,y=R.gridColumns),"gap"in R&&t(15,b=R.gap),"regionRowMain"in R&&t(16,O=R.regionRowMain),"regionRowHeadline"in R&&t(17,T=R.regionRowHeadline),"slotLead"in R&&t(18,E=R.slotLead),"slotDefault"in R&&t(19,C=R.slotDefault),"slotTrail"in R&&t(20,D=R.slotTrail),"label"in R&&t(0,w=R.label),"labelledby"in R&&t(1,I=R.labelledby),"$$scope"in R&&t(21,u=R.$$scope)},i.$$.update=()=>{t(7,r=`${Jo} ${m} ${f} ${p} ${d} ${g} ${e.class??""}`),i.$$.dirty&114688&&t(6,s=`${Vo} ${y} ${b} ${O}`),i.$$.dirty&131072&&t(5,n=`${qo} ${T}`),i.$$.dirty&262144&&t(4,o=`${Go} ${E}`),i.$$.dirty&524288&&t(3,a=`${Ko} ${C}`),i.$$.dirty&1048576&&t(2,l=`${Wo} ${D}`)},e=Ee(e),[w,I,l,a,o,n,s,r,h,m,f,d,g,p,y,b,O,T,E,C,D,u,c]}class Yo extends tt{constructor(e){super(),rt(this,e,Xo,zo,et,{background:9,border:10,padding:11,shadow:12,spacing:13,gridColumns:14,gap:15,regionRowMain:16,regionRowHeadline:17,slotLead:18,slotDefault:19,slotTrail:20,label:0,labelledby:1})}}const Qo=i=>({}),Lr=i=>({}),Zo=i=>({}),Ur=i=>({}),$o=i=>({}),Fr=i=>({}),ea=i=>({}),Br=i=>({}),ta=i=>({}),Nr=i=>({}),ra=i=>({}),Mr=i=>({});function Hr(i){let e,t,r;const s=i[19].header,n=ne(s,i,i[18],Mr);return{c(){e=J("header"),n&&n.c(),this.h()},l(o){e=V(o,"HEADER",{id:!0,class:!0});var a=q(e);n&&n.l(a),a.forEach(x),this.h()},h(){k(e,"id","shell-header"),k(e,"class",t="flex-none "+i[8])},m(o,a){H(o,e,a),n&&n.m(e,null),r=!0},p(o,a){n&&n.p&&(!r||a&262144)&&se(n,s,o,o[18],r?ae(s,o[18],a,ra):oe(o[18]),Mr),(!r||a&256&&t!==(t="flex-none "+o[8]))&&k(e,"class",t)},i(o){r||(j(n,o),r=!0)},o(o){U(n,o),r=!1},d(o){o&&x(e),n&&n.d(o)}}}function zr(i){let e,t;const r=i[19].sidebarLeft,s=ne(r,i,i[18],Nr);return{c(){e=J("aside"),s&&s.c(),this.h()},l(n){e=V(n,"ASIDE",{id:!0,class:!0});var o=q(e);s&&s.l(o),o.forEach(x),this.h()},h(){k(e,"id","sidebar-left"),k(e,"class",i[7])},m(n,o){H(n,e,o),s&&s.m(e,null),t=!0},p(n,o){s&&s.p&&(!t||o&262144)&&se(s,r,n,n[18],t?ae(r,n[18],o,ta):oe(n[18]),Nr),(!t||o&128)&&k(e,"class",n[7])},i(n){t||(j(s,n),t=!0)},o(n){U(s,n),t=!1},d(n){n&&x(e),s&&s.d(n)}}}function Jr(i){let e,t,r;const s=i[19].pageHeader,n=ne(s,i,i[18],Br),o=n||ia();return{c(){e=J("header"),o&&o.c(),this.h()},l(a){e=V(a,"HEADER",{id:!0,class:!0});var l=q(e);o&&o.l(l),l.forEach(x),this.h()},h(){k(e,"id","page-header"),k(e,"class",t="flex-none "+i[5])},m(a,l){H(a,e,l),o&&o.m(e,null),r=!0},p(a,l){n&&n.p&&(!r||l&262144)&&se(n,s,a,a[18],r?ae(s,a[18],l,ea):oe(a[18]),Br),(!r||l&32&&t!==(t="flex-none "+a[5]))&&k(e,"class",t)},i(a){r||(j(o,a),r=!0)},o(a){U(o,a),r=!1},d(a){a&&x(e),o&&o.d(a)}}}function ia(i){let e;return{c(){e=oi("(slot:header)")},l(t){e=ai(t,"(slot:header)")},m(t,r){H(t,e,r)},d(t){t&&x(e)}}}function Vr(i){let e,t,r;const s=i[19].pageFooter,n=ne(s,i,i[18],Fr),o=n||na();return{c(){e=J("footer"),o&&o.c(),this.h()},l(a){e=V(a,"FOOTER",{id:!0,class:!0});var l=q(e);o&&o.l(l),l.forEach(x),this.h()},h(){k(e,"id","page-footer"),k(e,"class",t="flex-none "+i[3])},m(a,l){H(a,e,l),o&&o.m(e,null),r=!0},p(a,l){n&&n.p&&(!r||l&262144)&&se(n,s,a,a[18],r?ae(s,a[18],l,$o):oe(a[18]),Fr),(!r||l&8&&t!==(t="flex-none "+a[3]))&&k(e,"class",t)},i(a){r||(j(o,a),r=!0)},o(a){U(o,a),r=!1},d(a){a&&x(e),o&&o.d(a)}}}function na(i){let e;return{c(){e=oi("(slot:footer)")},l(t){e=ai(t,"(slot:footer)")},m(t,r){H(t,e,r)},d(t){t&&x(e)}}}function qr(i){let e,t;const r=i[19].sidebarRight,s=ne(r,i,i[18],Ur);return{c(){e=J("aside"),s&&s.c(),this.h()},l(n){e=V(n,"ASIDE",{id:!0,class:!0});var o=q(e);s&&s.l(o),o.forEach(x),this.h()},h(){k(e,"id","sidebar-right"),k(e,"class",i[6])},m(n,o){H(n,e,o),s&&s.m(e,null),t=!0},p(n,o){s&&s.p&&(!t||o&262144)&&se(s,r,n,n[18],t?ae(r,n[18],o,Zo):oe(n[18]),Ur),(!t||o&64)&&k(e,"class",n[6])},i(n){t||(j(s,n),t=!0)},o(n){U(s,n),t=!1},d(n){n&&x(e),s&&s.d(n)}}}function Gr(i){let e,t,r;const s=i[19].footer,n=ne(s,i,i[18],Lr);return{c(){e=J("footer"),n&&n.c(),this.h()},l(o){e=V(o,"FOOTER",{id:!0,class:!0});var a=q(e);n&&n.l(a),a.forEach(x),this.h()},h(){k(e,"id","shell-footer"),k(e,"class",t="flex-none "+i[2])},m(o,a){H(o,e,a),n&&n.m(e,null),r=!0},p(o,a){n&&n.p&&(!r||a&262144)&&se(n,s,o,o[18],r?ae(s,o[18],a,Qo):oe(o[18]),Lr),(!r||a&4&&t!==(t="flex-none "+o[2]))&&k(e,"class",t)},i(o){r||(j(n,o),r=!0)},o(o){U(n,o),r=!1},d(o){o&&x(e),n&&n.d(o)}}}function sa(i){let e,t,r,s,n,o,a,l,c,u,h,m,f,d,g,p=i[10].header&&Hr(i),y=i[10].sidebarLeft&&zr(i),b=i[10].pageHeader&&Jr(i);const O=i[19].default,T=ne(O,i,i[18],null);let E=i[10].pageFooter&&Vr(i),C=i[10].sidebarRight&&qr(i),D=i[10].footer&&Gr(i);return{c(){e=J("div"),p&&p.c(),t=Q(),r=J("div"),y&&y.c(),s=Q(),n=J("div"),b&&b.c(),o=Q(),a=J("main"),T&&T.c(),c=Q(),E&&E.c(),h=Q(),C&&C.c(),m=Q(),D&&D.c(),this.h()},l(w){e=V(w,"DIV",{id:!0,class:!0,"data-testid":!0});var I=q(e);p&&p.l(I),t=Z(I),r=V(I,"DIV",{class:!0});var R=q(r);y&&y.l(R),s=Z(R),n=V(R,"DIV",{id:!0,class:!0});var A=q(n);b&&b.l(A),o=Z(A),a=V(A,"MAIN",{id:!0,class:!0});var K=q(a);T&&T.l(K),K.forEach(x),c=Z(A),E&&E.l(A),A.forEach(x),h=Z(R),C&&C.l(R),R.forEach(x),m=Z(I),D&&D.l(I),I.forEach(x),this.h()},h(){k(a,"id","page-content"),k(a,"class",l="flex-auto "+i[4]),k(n,"id","page"),k(n,"class",u=i[1]+" "+Kr),sr(n,"scrollbar-gutter",i[0]),k(r,"class","flex-auto "+aa),k(e,"id","appShell"),k(e,"class",i[9]),k(e,"data-testid","app-shell")},m(w,I){H(w,e,I),p&&p.m(e,null),X(e,t),X(e,r),y&&y.m(r,null),X(r,s),X(r,n),b&&b.m(n,null),X(n,o),X(n,a),T&&T.m(a,null),X(n,c),E&&E.m(n,null),X(r,h),C&&C.m(r,null),X(e,m),D&&D.m(e,null),f=!0,d||(g=te(n,"scroll",i[20]),d=!0)},p(w,[I]){w[10].header?p?(p.p(w,I),I&1024&&j(p,1)):(p=Hr(w),p.c(),j(p,1),p.m(e,t)):p&&(fe(),U(p,1,1,()=>{p=null}),me()),w[10].sidebarLeft?y?(y.p(w,I),I&1024&&j(y,1)):(y=zr(w),y.c(),j(y,1),y.m(r,s)):y&&(fe(),U(y,1,1,()=>{y=null}),me()),w[10].pageHeader?b?(b.p(w,I),I&1024&&j(b,1)):(b=Jr(w),b.c(),j(b,1),b.m(n,o)):b&&(fe(),U(b,1,1,()=>{b=null}),me()),T&&T.p&&(!f||I&262144)&&se(T,O,w,w[18],f?ae(O,w[18],I,null):oe(w[18]),null),(!f||I&16&&l!==(l="flex-auto "+w[4]))&&k(a,"class",l),w[10].pageFooter?E?(E.p(w,I),I&1024&&j(E,1)):(E=Vr(w),E.c(),j(E,1),E.m(n,null)):E&&(fe(),U(E,1,1,()=>{E=null}),me()),(!f||I&2&&u!==(u=w[1]+" "+Kr))&&k(n,"class",u),I&1&&sr(n,"scrollbar-gutter",w[0]),w[10].sidebarRight?C?(C.p(w,I),I&1024&&j(C,1)):(C=qr(w),C.c(),j(C,1),C.m(r,null)):C&&(fe(),U(C,1,1,()=>{C=null}),me()),w[10].footer?D?(D.p(w,I),I&1024&&j(D,1)):(D=Gr(w),D.c(),j(D,1),D.m(e,null)):D&&(fe(),U(D,1,1,()=>{D=null}),me()),(!f||I&512)&&k(e,"class",w[9])},i(w){f||(j(p),j(y),j(b),j(T,w),j(E),j(C),j(D),f=!0)},o(w){U(p),U(y),U(b),U(T,w),U(E),U(C),U(D),f=!1},d(w){w&&x(e),p&&p.d(),y&&y.d(),b&&b.d(),T&&T.d(w),E&&E.d(),C&&C.d(),D&&D.d(),d=!1,g()}}}const oa="w-full h-full flex flex-col overflow-hidden",aa="w-full h-full flex overflow-hidden",Kr="flex-1 overflow-x-hidden flex flex-col",la="flex-none overflow-x-hidden overflow-y-auto",ca="flex-none overflow-x-hidden overflow-y-auto";function ua(i,e,t){let r,s,n,o,a,l,c,u,{$$slots:h={},$$scope:m}=e;const f=si(h);let{scrollbarGutter:d="auto"}=e,{regionPage:g=""}=e,{slotHeader:p="z-10"}=e,{slotSidebarLeft:y="w-auto"}=e,{slotSidebarRight:b="w-auto"}=e,{slotPageHeader:O=""}=e,{slotPageContent:T=""}=e,{slotPageFooter:E=""}=e,{slotFooter:C=""}=e;function D(w){ke.call(this,i,w)}return i.$$set=w=>{t(21,e=Se(Se({},e),Ee(w))),"scrollbarGutter"in w&&t(0,d=w.scrollbarGutter),"regionPage"in w&&t(1,g=w.regionPage),"slotHeader"in w&&t(11,p=w.slotHeader),"slotSidebarLeft"in w&&t(12,y=w.slotSidebarLeft),"slotSidebarRight"in w&&t(13,b=w.slotSidebarRight),"slotPageHeader"in w&&t(14,O=w.slotPageHeader),"slotPageContent"in w&&t(15,T=w.slotPageContent),"slotPageFooter"in w&&t(16,E=w.slotPageFooter),"slotFooter"in w&&t(17,C=w.slotFooter),"$$scope"in w&&t(18,m=w.$$scope)},i.$$.update=()=>{t(9,r=`${oa} ${e.class??""}`),i.$$.dirty&2048&&t(8,s=`${p}`),i.$$.dirty&4096&&t(7,n=`${la} ${y}`),i.$$.dirty&8192&&t(6,o=`${ca} ${b}`),i.$$.dirty&16384&&t(5,a=`${O}`),i.$$.dirty&32768&&t(4,l=`${T}`),i.$$.dirty&65536&&t(3,c=`${E}`),i.$$.dirty&131072&&t(2,u=`${C}`)},e=Ee(e),[d,g,u,c,l,a,o,n,s,r,f,p,y,b,O,T,E,C,m,h,D]}class ha extends tt{constructor(e){super(),rt(this,e,ua,sa,et,{scrollbarGutter:0,regionPage:1,slotHeader:11,slotSidebarLeft:12,slotSidebarRight:13,slotPageHeader:14,slotPageContent:15,slotPageFooter:16,slotFooter:17})}}const{window:da}=an;function Wr(i){let e,t,r,s,n,o,a,l,c,u,h;const m=i[32].default,f=ne(m,i,i[31],null);return{c(){e=J("div"),t=J("div"),f&&f.c(),this.h()},l(d){e=V(d,"DIV",{class:!0,"data-testid":!0});var g=q(e);t=V(g,"DIV",{class:!0,"data-testid":!0,role:!0,"aria-modal":!0,"aria-labelledby":!0,"aria-describedby":!0});var p=q(t);f&&f.l(p),p.forEach(x),g.forEach(x),this.h()},h(){k(t,"class",r="drawer "+i[8]),k(t,"data-testid","drawer"),k(t,"role","dialog"),k(t,"aria-modal","true"),k(t,"aria-labelledby",i[0]),k(t,"aria-describedby",i[1]),k(e,"class",o="drawer-backdrop "+i[9]),k(e,"data-testid","drawer-backdrop")},m(d,g){H(d,e,g),X(e,t),f&&f.m(t,null),i[36](t),i[37](e),c=!0,u||(h=[te(e,"mousedown",i[12]),te(e,"touchstart",i[33],{passive:!0}),te(e,"touchend",i[34],{passive:!0}),te(e,"keypress",i[35]),Qi(Uo.call(null,e,!0))],u=!0)},p(d,g){i=d,f&&f.p&&(!c||g[1]&1)&&se(f,m,i,i[31],c?ae(m,i[31],g,null):oe(i[31]),null),(!c||g[0]&256&&r!==(r="drawer "+i[8]))&&k(t,"class",r),(!c||g[0]&1)&&k(t,"aria-labelledby",i[0]),(!c||g[0]&2)&&k(t,"aria-describedby",i[1]),(!c||g[0]&512&&o!==(o="drawer-backdrop "+i[9]))&&k(e,"class",o)},i(d){c||(j(f,d),d&&or(()=>{c&&(n&&n.end(1),s=ur(t,dt,{transition:xr,params:{x:i[7].x,y:i[7].y,duration:i[2],opacity:i[3]?void 0:1},enabled:i[4]}),s.start())}),d&&or(()=>{c&&(l&&l.end(1),a=ur(e,dt,{transition:Ar,params:{duration:i[2]},enabled:i[4]&&i[3]}),a.start())}),c=!0)},o(d){U(f,d),s&&s.invalidate(),d&&(n=hr(t,dt,{transition:xr,params:{x:i[7].x,y:i[7].y,duration:i[2],opacity:i[3]?void 0:1,easing:Fo},enabled:i[4]})),a&&a.invalidate(),d&&(l=hr(e,dt,{transition:Ar,params:{duration:i[2]},enabled:i[4]&&i[3]})),c=!1},d(d){d&&x(e),f&&f.d(d),i[36](null),d&&n&&n.end(),i[37](null),d&&l&&l.end(),u=!1,Vt(h)}}}function fa(i){let e,t,r,s,n=i[10].open===!0&&Wr(i);return{c(){n&&n.c(),e=ze()},l(o){n&&n.l(o),e=ze()},m(o,a){n&&n.m(o,a),H(o,e,a),t=!0,r||(s=te(da,"keydown",i[13]),r=!0)},p(o,a){o[10].open===!0?n?(n.p(o,a),a[0]&1024&&j(n,1)):(n=Wr(o),n.c(),j(n,1),n.m(e.parentNode,e)):n&&(fe(),U(n,1,1,()=>{n=null}),me())},i(o){t||(j(n),t=!0)},o(o){U(n),t=!1},d(o){o&&x(e),n&&n.d(o),r=!1,s()}}}const ma="fixed top-0 left-0 right-0 bottom-0 flex",ga="overflow-y-auto transition-transform";function pa(i,e,t){let r,s,n,o,a,l,c,u;Lt(i,en,S=>t(38,u=S));let{$$slots:h={},$$scope:m}=e;const f=Yi();let{position:d="left"}=e,{bgDrawer:g="bg-surface-100-800-token"}=e,{border:p=""}=e,{rounded:y=""}=e,{shadow:b="shadow-xl"}=e,{width:O=""}=e,{height:T=""}=e,{bgBackdrop:E="bg-surface-backdrop-token"}=e,{blur:C=""}=e,{padding:D=""}=e,{zIndex:w="z-40"}=e,{regionBackdrop:I=""}=e,{regionDrawer:R=""}=e,{labelledby:A=""}=e,{describedby:K=""}=e,{duration:$=200}=e,{transitions:v=!u}=e,{opacityTransition:_=!0}=e;const P={top:{alignment:"items-start",width:"w-full",height:"h-[50%]",rounded:"rounded-bl-container-token rounded-br-container-token"},bottom:{alignment:"items-end",width:"w-full",height:" h-[50%]",rounded:"rounded-tl-container-token rounded-tr-container-token"},left:{alignment:"justify-start",width:"w-[90%]",height:"h-full",rounded:"rounded-tr-container-token rounded-br-container-token"},right:{alignment:"justify-end",width:"w-[90%]",height:"h-full",rounded:"rounded-tl-container-token rounded-bl-container-token"}};let B,G,F={x:0,y:0};const he=Ai();Lt(i,he,S=>t(10,c=S));const W={position:d,bgBackdrop:E,blur:C,padding:D,bgDrawer:g,border:p,rounded:y,shadow:b,width:O,height:T,opacityTransition:_,regionBackdrop:I,regionDrawer:R,labelledby:A,describedby:K,duration:$};function Ke(S){t(14,d=S.position||W.position),t(21,E=S.bgBackdrop||W.bgBackdrop),t(22,C=S.blur||W.blur),t(23,D=S.padding||W.padding),t(15,g=S.bgDrawer||W.bgDrawer),t(16,p=S.border||W.border),t(17,y=S.rounded||W.rounded),t(18,b=S.shadow||W.shadow),t(19,O=S.width||W.width),t(20,T=S.height||W.height),t(24,I=S.regionBackdrop||W.regionBackdrop),t(25,R=S.regionDrawer||W.regionDrawer),t(0,A=S.labelledby||W.labelledby),t(1,K=S.describedby||W.describedby),t(3,_=S.opacityTransition||W.opacityTransition),t(2,$=S.duration||W.duration)}function Bi(){switch(d){case"top":t(7,F={x:0,y:-window.innerWidth});break;case"bottom":t(7,F={x:0,y:window.innerWidth});break;case"left":t(7,F={x:-window.innerHeight,y:0});break;case"right":t(7,F={x:window.innerHeight,y:0});break;default:console.error("Error: unknown position property value.");break}}function Ni(S){S.target===B?(he.close(),f("backdrop",S)):f("drawer",S)}function Mi(S){c&&S.code==="Escape"&&he.close()}he.subscribe(S=>{S.open===!0&&(Ke(S),Bi())});function Hi(S){ke.call(this,i,S)}function zi(S){ke.call(this,i,S)}function Ji(S){ke.call(this,i,S)}function Vi(S){ar[S?"unshift":"push"](()=>{G=S,t(6,G)})}function qi(S){ar[S?"unshift":"push"](()=>{B=S,t(5,B)})}return i.$$set=S=>{t(44,e=Se(Se({},e),Ee(S))),"position"in S&&t(14,d=S.position),"bgDrawer"in S&&t(15,g=S.bgDrawer),"border"in S&&t(16,p=S.border),"rounded"in S&&t(17,y=S.rounded),"shadow"in S&&t(18,b=S.shadow),"width"in S&&t(19,O=S.width),"height"in S&&t(20,T=S.height),"bgBackdrop"in S&&t(21,E=S.bgBackdrop),"blur"in S&&t(22,C=S.blur),"padding"in S&&t(23,D=S.padding),"zIndex"in S&&t(26,w=S.zIndex),"regionBackdrop"in S&&t(24,I=S.regionBackdrop),"regionDrawer"in S&&t(25,R=S.regionDrawer),"labelledby"in S&&t(0,A=S.labelledby),"describedby"in S&&t(1,K=S.describedby),"duration"in S&&t(2,$=S.duration),"transitions"in S&&t(4,v=S.transitions),"opacityTransition"in S&&t(3,_=S.opacityTransition),"$$scope"in S&&t(31,m=S.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&16384&&t(30,r=P[d].alignment),i.$$.dirty[0]&540672&&t(29,s=O||P[d].width),i.$$.dirty[0]&1064960&&t(28,n=T||P[d].height),i.$$.dirty[0]&147456&&t(27,o=y||P[d].rounded),t(9,a=`${ma} ${E} ${D} ${C} ${r} ${I} ${w} ${e.class??""}`),i.$$.dirty[0]&973570048&&t(8,l=`${ga} ${g} ${p} ${y} ${b} ${s} ${n} ${o} ${R}`)},e=Ee(e),[A,K,$,_,v,B,G,F,l,a,c,he,Ni,Mi,d,g,p,y,b,O,T,E,C,D,I,R,w,o,n,s,r,m,h,Hi,zi,Ji,Vi,qi]}class va extends tt{constructor(e){super(),rt(this,e,pa,fa,et,{position:14,bgDrawer:15,border:16,rounded:17,shadow:18,width:19,height:20,bgBackdrop:21,blur:22,padding:23,zIndex:26,regionBackdrop:24,regionDrawer:25,labelledby:0,describedby:1,duration:2,transitions:4,opacityTransition:3},null,[-1,-1])}}function ya(i){let e,t=`<script nonce="%sveltekit.nonce%">(${tn.toString()})();<\/script>`,r,s,n,o,a,l,c,u,h,m,f,d;return{c(){e=new li(!1),r=ze(),s=Q(),n=J("div"),o=J("div"),a=lr("svg"),l=lr("path"),this.h()},l(g){const p=ci("svelte-gewkj4",document.head);e=ui(p,!1),r=ze(),p.forEach(x),s=Z(g),n=V(g,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-checked":!0,title:!0,tabindex:!0});var y=q(n);o=V(y,"DIV",{class:!0});var b=q(o);a=cr(b,"svg",{class:!0,xmlns:!0,viewBox:!0});var O=q(a);l=cr(O,"path",{d:!0}),q(l).forEach(x),O.forEach(x),b.forEach(x),y.forEach(x),this.h()},h(){e.a=r,k(l,"d",c=i[1]?i[5].sun:i[5].moon),k(a,"class",u="lightswitch-icon "+i[2]),k(a,"xmlns","http://www.w3.org/2000/svg"),k(a,"viewBox","0 0 512 512"),k(o,"class",h="lightswitch-thumb "+i[3]),k(n,"class",m="lightswitch-track "+i[4]),k(n,"role","switch"),k(n,"aria-label","Light Switch"),k(n,"aria-checked",i[1]),k(n,"title",i[0]),k(n,"tabindex","0")},m(g,p){e.m(t,document.head),X(document.head,r),H(g,s,p),H(g,n,p),X(n,o),X(o,a),X(a,l),f||(d=[te(n,"click",i[6]),te(n,"click",i[19]),te(n,"keydown",ka),te(n,"keydown",i[20]),te(n,"keyup",i[21]),te(n,"keypress",i[22])],f=!0)},p(g,[p]){p&2&&c!==(c=g[1]?g[5].sun:g[5].moon)&&k(l,"d",c),p&4&&u!==(u="lightswitch-icon "+g[2])&&k(a,"class",u),p&8&&h!==(h="lightswitch-thumb "+g[3])&&k(o,"class",h),p&16&&m!==(m="lightswitch-track "+g[4])&&k(n,"class",m),p&2&&k(n,"aria-checked",g[1]),p&1&&k(n,"title",g[0])},i:Je,o:Je,d(g){g&&(e.d(),x(s),x(n)),x(r),f=!1,Vt(d)}}}const _a="cursor-pointer",ba="aspect-square scale-[0.8] flex justify-center items-center",wa="w-[70%] aspect-square";function ka(i){["Enter","Space"].includes(i.code)&&(i.preventDefault(),i.currentTarget.click())}function Sa(i,e,t){let r,s,n,o,a,l,c,u;Lt(i,dr,A=>t(1,u=A));let{title:h="Toggle light or dark mode."}=e,{bgLight:m="bg-surface-50"}=e,{bgDark:f="bg-surface-900"}=e,{fillLight:d="fill-surface-50"}=e,{fillDark:g="fill-surface-900"}=e,{width:p="w-12"}=e,{height:y="h-6"}=e,{ring:b="ring-[1px] ring-surface-500/30"}=e,{rounded:O="rounded-token"}=e;const T="transition-all duration-[200ms]",E={sun:"M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM352 256c0 53-43 96-96 96s-96-43-96-96s43-96 96-96s96 43 96 96zm32 0c0-70.7-57.3-128-128-128s-128 57.3-128 128s57.3 128 128 128s128-57.3 128-128z",moon:"M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"};function C(){$i(dr,u=!u,u),nn(u),fr(u)}Zi(()=>{"modeCurrent"in localStorage||fr(rn())});function D(A){ke.call(this,i,A)}function w(A){ke.call(this,i,A)}function I(A){ke.call(this,i,A)}function R(A){ke.call(this,i,A)}return i.$$set=A=>{t(24,e=Se(Se({},e),Ee(A))),"title"in A&&t(0,h=A.title),"bgLight"in A&&t(7,m=A.bgLight),"bgDark"in A&&t(8,f=A.bgDark),"fillLight"in A&&t(9,d=A.fillLight),"fillDark"in A&&t(10,g=A.fillDark),"width"in A&&t(11,p=A.width),"height"in A&&t(12,y=A.height),"ring"in A&&t(13,b=A.ring),"rounded"in A&&t(14,O=A.rounded)},i.$$.update=()=>{i.$$.dirty&386&&t(18,r=u===!0?m:f),i.$$.dirty&386&&t(17,s=u===!0?f:m),i.$$.dirty&2&&t(16,n=u===!0?"translate-x-[100%]":""),i.$$.dirty&1538&&t(15,o=u===!0?d:g),t(4,a=`${_a} ${T} ${p} ${y} ${b} ${O} ${r} ${e.class??""}`),i.$$.dirty&217088&&t(3,l=`${ba} ${T} ${y} ${O} ${s} ${n}`),i.$$.dirty&32768&&t(2,c=`${wa} ${o}`)},e=Ee(e),[h,u,c,l,a,E,C,m,f,d,g,p,y,b,O,o,n,s,r,D,w,I,R]}class Ea extends tt{constructor(e){super(),rt(this,e,Sa,ya,et,{title:0,bgLight:7,bgDark:8,fillLight:9,fillDark:10,width:11,height:12,ring:13,rounded:14})}}const Ve=Math.min,Ce=Math.max,mt=Math.round,ft=Math.floor,Oe=i=>({x:i,y:i}),Oa={left:"right",right:"left",bottom:"top",top:"bottom"},Ta={start:"end",end:"start"};function Ht(i,e,t){return Ce(i,Ve(e,t))}function nt(i,e){return typeof i=="function"?i(e):i}function je(i){return i.split("-")[0]}function st(i){return i.split("-")[1]}function xi(i){return i==="x"?"y":"x"}function $t(i){return i==="y"?"height":"width"}function kt(i){return["top","bottom"].includes(je(i))?"y":"x"}function er(i){return xi(kt(i))}function Aa(i,e,t){t===void 0&&(t=!1);const r=st(i),s=er(i),n=$t(s);let o=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[n]>e.floating[n]&&(o=gt(o)),[o,gt(o)]}function xa(i){const e=gt(i);return[zt(i),e,zt(e)]}function zt(i){return i.replace(/start|end/g,e=>Ta[e])}function Ra(i,e,t){const r=["left","right"],s=["right","left"],n=["top","bottom"],o=["bottom","top"];switch(i){case"top":case"bottom":return t?e?s:r:e?r:s;case"left":case"right":return e?n:o;default:return[]}}function Pa(i,e,t,r){const s=st(i);let n=Ra(je(i),t==="start",r);return s&&(n=n.map(o=>o+"-"+s),e&&(n=n.concat(n.map(zt)))),n}function gt(i){return i.replace(/left|right|bottom|top/g,e=>Oa[e])}function Ca(i){return{top:0,right:0,bottom:0,left:0,...i}}function Ri(i){return typeof i!="number"?Ca(i):{top:i,right:i,bottom:i,left:i}}function pt(i){return{...i,top:i.y,left:i.x,right:i.x+i.width,bottom:i.y+i.height}}function Xr(i,e,t){let{reference:r,floating:s}=i;const n=kt(e),o=er(e),a=$t(o),l=je(e),c=n==="y",u=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let f;switch(l){case"top":f={x:u,y:r.y-s.height};break;case"bottom":f={x:u,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-s.width,y:h};break;default:f={x:r.x,y:r.y}}switch(st(e)){case"start":f[o]-=m*(t&&c?-1:1);break;case"end":f[o]+=m*(t&&c?-1:1);break}return f}const ja=async(i,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:n=[],platform:o}=t,a=n.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:i,floating:e,strategy:s}),{x:u,y:h}=Xr(c,r,l),m=r,f={},d=0;for(let g=0;g<a.length;g++){const{name:p,fn:y}=a[g],{x:b,y:O,data:T,reset:E}=await y({x:u,y:h,initialPlacement:r,placement:m,strategy:s,middlewareData:f,rects:c,platform:o,elements:{reference:i,floating:e}});if(u=b??u,h=O??h,f={...f,[p]:{...f[p],...T}},E&&d<=50){d++,typeof E=="object"&&(E.placement&&(m=E.placement),E.rects&&(c=E.rects===!0?await o.getElementRects({reference:i,floating:e,strategy:s}):E.rects),{x:u,y:h}=Xr(c,m,l)),g=-1;continue}}return{x:u,y:h,placement:m,strategy:s,middlewareData:f}};async function Pi(i,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:n,rects:o,elements:a,strategy:l}=i,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:h="floating",altBoundary:m=!1,padding:f=0}=nt(e,i),d=Ri(f),p=a[m?h==="floating"?"reference":"floating":h],y=pt(await n.getClippingRect({element:(t=await(n.isElement==null?void 0:n.isElement(p)))==null||t?p:p.contextElement||await(n.getDocumentElement==null?void 0:n.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),b=h==="floating"?{...o.floating,x:r,y:s}:o.reference,O=await(n.getOffsetParent==null?void 0:n.getOffsetParent(a.floating)),T=await(n.isElement==null?void 0:n.isElement(O))?await(n.getScale==null?void 0:n.getScale(O))||{x:1,y:1}:{x:1,y:1},E=pt(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({rect:b,offsetParent:O,strategy:l}):b);return{top:(y.top-E.top+d.top)/T.y,bottom:(E.bottom-y.bottom+d.bottom)/T.y,left:(y.left-E.left+d.left)/T.x,right:(E.right-y.right+d.right)/T.x}}const Da=i=>({name:"arrow",options:i,async fn(e){const{x:t,y:r,placement:s,rects:n,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=nt(i,e)||{};if(c==null)return{};const h=Ri(u),m={x:t,y:r},f=er(s),d=$t(f),g=await o.getDimensions(c),p=f==="y",y=p?"top":"left",b=p?"bottom":"right",O=p?"clientHeight":"clientWidth",T=n.reference[d]+n.reference[f]-m[f]-n.floating[d],E=m[f]-n.reference[f],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let D=C?C[O]:0;(!D||!await(o.isElement==null?void 0:o.isElement(C)))&&(D=a.floating[O]||n.floating[d]);const w=T/2-E/2,I=D/2-g[d]/2-1,R=Ve(h[y],I),A=Ve(h[b],I),K=R,$=D-g[d]-A,v=D/2-g[d]/2+w,_=Ht(K,v,$),P=!l.arrow&&st(s)!=null&&v!=_&&n.reference[d]/2-(v<K?R:A)-g[d]/2<0,B=P?v<K?v-K:v-$:0;return{[f]:m[f]+B,data:{[f]:_,centerOffset:v-_-B,...P&&{alignmentOffset:B}},reset:P}}}),Ia=function(i){return i===void 0&&(i={}),{name:"flip",options:i,async fn(e){var t,r;const{placement:s,middlewareData:n,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:h=!0,fallbackPlacements:m,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:d="none",flipAlignment:g=!0,...p}=nt(i,e);if((t=n.arrow)!=null&&t.alignmentOffset)return{};const y=je(s),b=je(a)===a,O=await(l.isRTL==null?void 0:l.isRTL(c.floating)),T=m||(b||!g?[gt(a)]:xa(a));!m&&d!=="none"&&T.push(...Pa(a,g,d,O));const E=[a,...T],C=await Pi(e,p),D=[];let w=((r=n.flip)==null?void 0:r.overflows)||[];if(u&&D.push(C[y]),h){const K=Aa(s,o,O);D.push(C[K[0]],C[K[1]])}if(w=[...w,{placement:s,overflows:D}],!D.every(K=>K<=0)){var I,R;const K=(((I=n.flip)==null?void 0:I.index)||0)+1,$=E[K];if($)return{data:{index:K,overflows:w},reset:{placement:$}};let v=(R=w.filter(_=>_.overflows[0]<=0).sort((_,P)=>_.overflows[1]-P.overflows[1])[0])==null?void 0:R.placement;if(!v)switch(f){case"bestFit":{var A;const _=(A=w.map(P=>[P.placement,P.overflows.filter(B=>B>0).reduce((B,G)=>B+G,0)]).sort((P,B)=>P[1]-B[1])[0])==null?void 0:A[0];_&&(v=_);break}case"initialPlacement":v=a;break}if(s!==v)return{reset:{placement:v}}}return{}}}};async function La(i,e){const{placement:t,platform:r,elements:s}=i,n=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=je(t),a=st(t),l=kt(t)==="y",c=["left","top"].includes(o)?-1:1,u=n&&l?-1:1,h=nt(e,i);let{mainAxis:m,crossAxis:f,alignmentAxis:d}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...h};return a&&typeof d=="number"&&(f=a==="end"?d*-1:d),l?{x:f*u,y:m*c}:{x:m*c,y:f*u}}const Yr=function(i){return i===void 0&&(i=0),{name:"offset",options:i,async fn(e){var t,r;const{x:s,y:n,placement:o,middlewareData:a}=e,l=await La(e,i);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:n+l.y,data:{...l,placement:o}}}}},Ua=function(i){return i===void 0&&(i={}),{name:"shift",options:i,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:n=!0,crossAxis:o=!1,limiter:a={fn:p=>{let{x:y,y:b}=p;return{x:y,y:b}}},...l}=nt(i,e),c={x:t,y:r},u=await Pi(e,l),h=kt(je(s)),m=xi(h);let f=c[m],d=c[h];if(n){const p=m==="y"?"top":"left",y=m==="y"?"bottom":"right",b=f+u[p],O=f-u[y];f=Ht(b,f,O)}if(o){const p=h==="y"?"top":"left",y=h==="y"?"bottom":"right",b=d+u[p],O=d-u[y];d=Ht(b,d,O)}const g=a.fn({...e,[m]:f,[h]:d});return{...g,data:{x:g.x-t,y:g.y-r}}}}};function Te(i){return Ci(i)?(i.nodeName||"").toLowerCase():"#document"}function ie(i){var e;return(i==null||(e=i.ownerDocument)==null?void 0:e.defaultView)||window}function ye(i){var e;return(e=(Ci(i)?i.ownerDocument:i.document)||window.document)==null?void 0:e.documentElement}function Ci(i){return i instanceof Node||i instanceof ie(i).Node}function ve(i){return i instanceof Element||i instanceof ie(i).Element}function ge(i){return i instanceof HTMLElement||i instanceof ie(i).HTMLElement}function Qr(i){return typeof ShadowRoot>"u"?!1:i instanceof ShadowRoot||i instanceof ie(i).ShadowRoot}function ot(i){const{overflow:e,overflowX:t,overflowY:r,display:s}=ce(i);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function Fa(i){return["table","td","th"].includes(Te(i))}function tr(i){const e=rr(),t=ce(i);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function Ba(i){let e=qe(i);for(;ge(e)&&!St(e);){if(tr(e))return e;e=qe(e)}return null}function rr(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function St(i){return["html","body","#document"].includes(Te(i))}function ce(i){return ie(i).getComputedStyle(i)}function Et(i){return ve(i)?{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}:{scrollLeft:i.pageXOffset,scrollTop:i.pageYOffset}}function qe(i){if(Te(i)==="html")return i;const e=i.assignedSlot||i.parentNode||Qr(i)&&i.host||ye(i);return Qr(e)?e.host:e}function ji(i){const e=qe(i);return St(e)?i.ownerDocument?i.ownerDocument.body:i.body:ge(e)&&ot(e)?e:ji(e)}function $e(i,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=ji(i),n=s===((r=i.ownerDocument)==null?void 0:r.body),o=ie(s);return n?e.concat(o,o.visualViewport||[],ot(s)?s:[],o.frameElement&&t?$e(o.frameElement):[]):e.concat(s,$e(s,[],t))}function Di(i){const e=ce(i);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=ge(i),n=s?i.offsetWidth:t,o=s?i.offsetHeight:r,a=mt(t)!==n||mt(r)!==o;return a&&(t=n,r=o),{width:t,height:r,$:a}}function ir(i){return ve(i)?i:i.contextElement}function He(i){const e=ir(i);if(!ge(e))return Oe(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:n}=Di(e);let o=(n?mt(t.width):t.width)/r,a=(n?mt(t.height):t.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const Na=Oe(0);function Ii(i){const e=ie(i);return!rr()||!e.visualViewport?Na:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Ma(i,e,t){return e===void 0&&(e=!1),!t||e&&t!==ie(i)?!1:e}function De(i,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=i.getBoundingClientRect(),n=ir(i);let o=Oe(1);e&&(r?ve(r)&&(o=He(r)):o=He(i));const a=Ma(n,t,r)?Ii(n):Oe(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,u=s.width/o.x,h=s.height/o.y;if(n){const m=ie(n),f=r&&ve(r)?ie(r):r;let d=m.frameElement;for(;d&&r&&f!==m;){const g=He(d),p=d.getBoundingClientRect(),y=ce(d),b=p.left+(d.clientLeft+parseFloat(y.paddingLeft))*g.x,O=p.top+(d.clientTop+parseFloat(y.paddingTop))*g.y;l*=g.x,c*=g.y,u*=g.x,h*=g.y,l+=b,c+=O,d=ie(d).frameElement}}return pt({width:u,height:h,x:l,y:c})}function Ha(i){let{rect:e,offsetParent:t,strategy:r}=i;const s=ge(t),n=ye(t);if(t===n)return e;let o={scrollLeft:0,scrollTop:0},a=Oe(1);const l=Oe(0);if((s||!s&&r!=="fixed")&&((Te(t)!=="body"||ot(n))&&(o=Et(t)),ge(t))){const c=De(t);a=He(t),l.x=c.x+t.clientLeft,l.y=c.y+t.clientTop}return{width:e.width*a.x,height:e.height*a.y,x:e.x*a.x-o.scrollLeft*a.x+l.x,y:e.y*a.y-o.scrollTop*a.y+l.y}}function za(i){return Array.from(i.getClientRects())}function Li(i){return De(ye(i)).left+Et(i).scrollLeft}function Ja(i){const e=ye(i),t=Et(i),r=i.ownerDocument.body,s=Ce(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),n=Ce(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+Li(i);const a=-t.scrollTop;return ce(r).direction==="rtl"&&(o+=Ce(e.clientWidth,r.clientWidth)-s),{width:s,height:n,x:o,y:a}}function Va(i,e){const t=ie(i),r=ye(i),s=t.visualViewport;let n=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){n=s.width,o=s.height;const c=rr();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:n,height:o,x:a,y:l}}function qa(i,e){const t=De(i,!0,e==="fixed"),r=t.top+i.clientTop,s=t.left+i.clientLeft,n=ge(i)?He(i):Oe(1),o=i.clientWidth*n.x,a=i.clientHeight*n.y,l=s*n.x,c=r*n.y;return{width:o,height:a,x:l,y:c}}function Zr(i,e,t){let r;if(e==="viewport")r=Va(i,t);else if(e==="document")r=Ja(ye(i));else if(ve(e))r=qa(e,t);else{const s=Ii(i);r={...e,x:e.x-s.x,y:e.y-s.y}}return pt(r)}function Ui(i,e){const t=qe(i);return t===e||!ve(t)||St(t)?!1:ce(t).position==="fixed"||Ui(t,e)}function Ga(i,e){const t=e.get(i);if(t)return t;let r=$e(i,[],!1).filter(a=>ve(a)&&Te(a)!=="body"),s=null;const n=ce(i).position==="fixed";let o=n?qe(i):i;for(;ve(o)&&!St(o);){const a=ce(o),l=tr(o);!l&&a.position==="fixed"&&(s=null),(n?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||ot(o)&&!l&&Ui(i,o))?r=r.filter(u=>u!==o):s=a,o=qe(o)}return e.set(i,r),r}function Ka(i){let{element:e,boundary:t,rootBoundary:r,strategy:s}=i;const o=[...t==="clippingAncestors"?Ga(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const h=Zr(e,u,s);return c.top=Ce(h.top,c.top),c.right=Ve(h.right,c.right),c.bottom=Ve(h.bottom,c.bottom),c.left=Ce(h.left,c.left),c},Zr(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Wa(i){const{width:e,height:t}=Di(i);return{width:e,height:t}}function Xa(i,e,t){const r=ge(e),s=ye(e),n=t==="fixed",o=De(i,!0,n,e);let a={scrollLeft:0,scrollTop:0};const l=Oe(0);if(r||!r&&!n)if((Te(e)!=="body"||ot(s))&&(a=Et(e)),r){const c=De(e,!0,n,e);l.x=c.x+e.clientLeft,l.y=c.y+e.clientTop}else s&&(l.x=Li(s));return{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function $r(i,e){return!ge(i)||ce(i).position==="fixed"?null:e?e(i):i.offsetParent}function Fi(i,e){const t=ie(i);if(!ge(i))return t;let r=$r(i,e);for(;r&&Fa(r)&&ce(r).position==="static";)r=$r(r,e);return r&&(Te(r)==="html"||Te(r)==="body"&&ce(r).position==="static"&&!tr(r))?t:r||Ba(i)||t}const Ya=async function(i){let{reference:e,floating:t,strategy:r}=i;const s=this.getOffsetParent||Fi,n=this.getDimensions;return{reference:Xa(e,await s(t),r),floating:{x:0,y:0,...await n(t)}}};function Qa(i){return ce(i).direction==="rtl"}const Za={convertOffsetParentRelativeRectToViewportRelativeRect:Ha,getDocumentElement:ye,getClippingRect:Ka,getOffsetParent:Fi,getElementRects:Ya,getClientRects:za,getDimensions:Wa,getScale:He,isElement:ve,isRTL:Qa};function $a(i,e){let t=null,r;const s=ye(i);function n(){clearTimeout(r),t&&t.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),n();const{left:c,top:u,width:h,height:m}=i.getBoundingClientRect();if(a||e(),!h||!m)return;const f=ft(u),d=ft(s.clientWidth-(c+h)),g=ft(s.clientHeight-(u+m)),p=ft(c),b={rootMargin:-f+"px "+-d+"px "+-g+"px "+-p+"px",threshold:Ce(0,Ve(1,l))||1};let O=!0;function T(E){const C=E[0].intersectionRatio;if(C!==l){if(!O)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},100)}O=!1}try{t=new IntersectionObserver(T,{...b,root:s.ownerDocument})}catch{t=new IntersectionObserver(T,b)}t.observe(i)}return o(!0),n}function ei(i,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:n=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=ir(i),u=s||n?[...c?$e(c):[],...$e(e)]:[];u.forEach(y=>{s&&y.addEventListener("scroll",t,{passive:!0}),n&&y.addEventListener("resize",t)});const h=c&&a?$a(c,t):null;let m=-1,f=null;o&&(f=new ResizeObserver(y=>{let[b]=y;b&&b.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{f&&f.observe(e)})),t()}),c&&!l&&f.observe(c),f.observe(e));let d,g=l?De(i):null;l&&p();function p(){const y=De(i);g&&(y.x!==g.x||y.y!==g.y||y.width!==g.width||y.height!==g.height)&&t(),g=y,d=requestAnimationFrame(p)}return t(),()=>{u.forEach(y=>{s&&y.removeEventListener("scroll",t),n&&y.removeEventListener("resize",t)}),h&&h(),f&&f.disconnect(),f=null,l&&cancelAnimationFrame(d)}}const ti=Ua,ri=Ia,ii=Da,ni=(i,e,t)=>{const r=new Map,s={platform:Za,...t},n={...s.platform,_c:r};return ja(i,e,{...s,platform:n})};function el(i){let e,t='<img src="/pcs-logo.png" class="bg-white pcs-logo svelte-ux4eti" alt="PCS Icon"/> <span class="text-xl dark:text-white font-semibold mx-4 m-auto">PCS @ Berkeley</span>';return{c(){e=J("a"),e.innerHTML=t,this.h()},l(r){e=V(r,"A",{href:!0,class:!0,"data-svelte-h":!0}),qt(e)!=="svelte-pj3280"&&(e.innerHTML=t),this.h()},h(){k(e,"href","/"),k(e,"class","w-1/6 flex text-center content-center relative z-40")},m(r,s){H(r,e,s)},p:Je,d(r){r&&x(e)}}}function tl(i){let e,t,r,s,n,o,a,l,c,u;return e=new Ea({}),s=new mr({props:{icon:"ion:language-outline",class:"dark:text-white"}}),a=new mr({props:{icon:"material-symbols:density-medium-rounded",class:"dark:text-white  relative z-40"}}),{c(){Fe(e.$$.fragment),t=Q(),r=J("button"),Fe(s.$$.fragment),n=Q(),o=J("button"),Fe(a.$$.fragment),this.h()},l(h){Be(e.$$.fragment,h),t=Z(h),r=V(h,"BUTTON",{class:!0});var m=q(r);Be(s.$$.fragment,m),m.forEach(x),n=Z(h),o=V(h,"BUTTON",{});var f=q(o);Be(a.$$.fragment,f),f.forEach(x),this.h()},h(){k(r,"class","btn card-hover relative z-40")},m(h,m){Ne(e,h,m),H(h,t,m),H(h,r,m),Ne(s,r,null),H(h,n,m),H(h,o,m),Ne(a,o,null),l=!0,c||(u=[te(r,"click",ol),te(o,"click",i[0])],c=!0)},p:Je,i(h){l||(j(e.$$.fragment,h),j(s.$$.fragment,h),j(a.$$.fragment,h),l=!0)},o(h){U(e.$$.fragment,h),U(s.$$.fragment,h),U(a.$$.fragment,h),l=!1},d(h){h&&(x(t),x(r),x(n),x(o)),Me(e,h),Me(s),Me(a),c=!1,Vt(u)}}}function rl(i){let e,t='<a class="hover:font-normal dark:text-white p-3" href="/"><p>Home</p></a> <a class="hover:font-normal dark:text-white p-3" href="/about"><p>About Us</p></a> <a class="hover:font-normal dark:text-white p-3" href="/projects"><p>Projects</p></a> <a class="hover:font-normal dark:text-white p-3" href="/members"><p>Members</p></a> <a class="hover:font-normal dark:text-white p-3" href="/editorials"><p>Editorials</p></a> <a class="hover:font-normal dark:text-white p-3" href="/calendar"><p>Recruitment Info</p></a> <a class="btn variant-filled-primary" href="https://pcs-spring2024.carrd.co/">Join Us</a>';return{c(){e=J("div"),e.innerHTML=t,this.h()},l(r){e=V(r,"DIV",{class:!0,"data-svelte-h":!0}),qt(e)!=="svelte-1icv0pc"&&(e.innerHTML=t),this.h()},h(){k(e,"class","w-fit font-semibold flex flex-col p-3 relative drawer svelte-ux4eti")},m(r,s){H(r,e,s)},p:Je,d(r){r&&x(e)}}}function il(i){let e,t,r,s,n,o;t=new Yo({props:{gridColumns:"grid-cols-3",slotDefault:"place-self-center",slotTrail:"place-content-end",class:"bg-transparent",$$slots:{trail:[tl],lead:[el]},$$scope:{ctx:i}}}),s=new va({props:{$$slots:{default:[rl]},$$scope:{ctx:i}}});const a=i[2].default,l=ne(a,i,i[3],null);return{c(){e=J("div"),Fe(t.$$.fragment),r=Q(),Fe(s.$$.fragment),n=Q(),l&&l.c(),this.h()},l(c){e=V(c,"DIV",{class:!0});var u=q(e);Be(t.$$.fragment,u),u.forEach(x),r=Z(c),Be(s.$$.fragment,c),n=Z(c),l&&l.l(c),this.h()},h(){k(e,"class","bg-transparent absolute")},m(c,u){H(c,e,u),Ne(t,e,null),H(c,r,u),Ne(s,c,u),H(c,n,u),l&&l.m(c,u),o=!0},p(c,u){const h={};u&8&&(h.$$scope={dirty:u,ctx:c}),t.$set(h);const m={};u&8&&(m.$$scope={dirty:u,ctx:c}),s.$set(m),l&&l.p&&(!o||u&8)&&se(l,a,c,c[3],o?ae(a,c[3],u,null):oe(c[3]),null)},i(c){o||(j(t.$$.fragment,c),j(s.$$.fragment,c),j(l,c),o=!0)},o(c){U(t.$$.fragment,c),U(s.$$.fragment,c),U(l,c),o=!1},d(c){c&&(x(e),x(r),x(n)),Me(t),Me(s,c),l&&l.d(c)}}}function nl(i){let e,t='<a href="https://www.ocf.berkeley.edu" class="p-0"><img src="http://www.ocf.berkeley.edu/hosting-logos/ocf-hosted-penguin-dark.svg" alt="Hosted by the OCF" style="border: 0;"/></a> <h1 class="text-right dark:text-white m-3">© PCS Berkeley 2024</h1>';return{c(){e=J("div"),e.innerHTML=t,this.h()},l(r){e=V(r,"DIV",{slot:!0,class:!0,"data-svelte-h":!0}),qt(e)!=="svelte-1o7tg9z"&&(e.innerHTML=t),this.h()},h(){k(e,"slot","footer"),k(e,"class","w-full flex flex-row justify-between items-center bg-surface-900 relative z-50 space-around")},m(r,s){H(r,e,s)},p:Je,d(r){r&&x(e)}}}function sl(i){let e,t=`<script>${sn.toString()} autoModeWatcher();<\/script>`,r,s,n,o;return n=new ha({props:{$$slots:{footer:[nl],default:[il]},$$scope:{ctx:i}}}),{c(){e=new li(!1),r=ze(),s=Q(),Fe(n.$$.fragment),this.h()},l(a){const l=ci("svelte-293o2g",document.head);e=ui(l,!1),r=ze(),l.forEach(x),s=Z(a),Be(n.$$.fragment,a),this.h()},h(){e.a=r},m(a,l){e.m(t,document.head),X(document.head,r),H(a,s,l),Ne(n,a,l),o=!0},p(a,[l]){const c={};l&8&&(c.$$scope={dirty:l,ctx:a}),n.$set(c)},i(a){o||(j(n.$$.fragment,a),o=!0)},o(a){U(n.$$.fragment,a),o=!1},d(a){a&&(e.d(),x(s)),x(r),Me(n,a)}}}function ol(){alert("Not Implemented")}function al(i,e,t){let{$$slots:r={},$$scope:s}=e;const n=!0;Tr.set({computePosition:ni,autoUpdate:ei,offset:Yr,shift:ti,flip:ri,arrow:ii}),Lo();const o=Ai(),a={position:"right",width:"fit",padding:"p-2"};function l(){o.open(a)}return Tr.set({computePosition:ni,autoUpdate:ei,flip:ri,shift:ti,offset:Yr,arrow:ii}),i.$$set=c=>{"$$scope"in c&&t(3,s=c.$$scope)},[l,n,r,s]}class vl extends tt{constructor(e){super(),rt(this,e,al,sl,et,{prerender:1})}get prerender(){return this.$$.ctx[1]}}export{vl as component,pl as universal};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
